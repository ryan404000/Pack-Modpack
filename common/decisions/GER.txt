#Category only allowed for GER
GER_mefo_bills_category = {

	GER_mefo_bills_mission = {

		#allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = {
				NOT = { has_government = democratic }
				GER_can_delay_mefo_payment = yes
				#has_political_power > 0
			}
		}

		#cost = GER_mefo_bill_counter?10

		#selectable_mission = yes
		days_mission_timeout = 180
		is_good = yes
		fire_only_once = yes
		activation = {
			GER_has_mefo_bills = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}

#		days_remove = GER_extend_mefo_bills_days?0


#		remove_effect = {
#			GER_mefo_bills_level_up = yes
#			if = {
#				limit = {
#					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
#				}
#				set_variable = { var = GER_mefo_bill_counter value = 10 }
#			}
#			add_to_variable = { var = GER_mefo_bill_counter value = 10 }
#
#			hidden_effect = {
#				activate_mission = GER_mefo_bills_mission
#			}
#		}

#		complete_effect = {
#
#			custom_effect_tooltip = GER_mefo_bills_mission_tt
#			custom_effect_tooltip = GER_mefo_bills_effect_in_days
#			effect_tooltip = {
#				GER_mefo_bills_level_up = yes
#			}
#			hidden_effect = {
#				set_variable = { GER_extend_mefo_bills_days = days_mission_timeout@GER_mefo_bills_mission }
#			}
#		}

		timeout_effect = {
			GER_mefo_bills_level_up = yes
			
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				set_variable = { var = GER_mefo_bill_counter value = 10 }
			}
			add_to_variable = { var = GER_mefo_bill_counter value = 5 }

			hidden_effect = {
				activate_mission = GER_mefo_bills_mission
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	GER_mefo_bills_terminate = {
		available = {
			NOT = { has_government = democratic }
			GER_can_delay_mefo_payment = yes
			GER_has_mefo_bills = yes
		}
		visible = {
			GER_has_mefo_bills = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_mefo_bills = yes }
					has_idea = GER_mefo_bills_ended
				}
			}
		}		
		
		complete_effect = {
			GER_remove_mefo_bills = yes
			#1
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = less_than }
				}
				add_political_power = -20
				add_timed_idea = { idea = GER_mefo_bills_ended days = 60 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 15 compare = equals }
				}
				add_political_power = -30
				add_timed_idea = { idea = GER_mefo_bills_ended days = 70 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 20 compare = equals }
				}
				add_political_power = -40
				add_timed_idea = { idea = GER_mefo_bills_ended days = 80 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 25 compare = equals }
				}
				add_political_power = -50
				add_timed_idea = { idea = GER_mefo_bills_ended days = 90 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 30 compare = equals }
				}
				add_political_power = -60
				add_timed_idea = { idea = GER_mefo_bills_ended days = 100 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 35 compare = equals }
				}
				add_political_power = -70
				add_timed_idea = { idea = GER_mefo_bills_ended days = 110 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 40 compare = equals }
				}
				add_political_power = -80
				add_timed_idea = { idea = GER_mefo_bills_ended days = 120 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 45 compare = equals }
				}
				add_political_power = -90
				add_timed_idea = { idea = GER_mefo_bills_ended days = 130 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 50 compare = equals }
				}
				add_political_power = -100
				add_timed_idea = { idea = GER_mefo_bills_ended days = 140 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 55 compare = equals }
				}
				add_political_power = -110
				add_timed_idea = { idea = GER_mefo_bills_ended days = 150 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 60 compare = equals }
				}
				add_political_power = -120
				add_timed_idea = { idea = GER_mefo_bills_ended days = 160 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 65 compare = equals }
				}
				add_political_power = -130
				add_timed_idea = { idea = GER_mefo_bills_ended days = 170 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 70 compare = equals }
				}
				add_political_power = -140
				add_timed_idea = { idea = GER_mefo_bills_ended days = 180 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 75 compare = equals }
				}
				add_political_power = -150
				add_timed_idea = { idea = GER_mefo_bills_ended days = 190 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 80 compare = equals }
				}
				add_political_power = -160
				add_timed_idea = { idea = GER_mefo_bills_ended days = 200 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 85 compare = equals }
				}
				add_political_power = -170
				add_timed_idea = { idea = GER_mefo_bills_ended days = 210 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 90 compare = equals }
				}
				add_political_power = -180
				add_timed_idea = { idea = GER_mefo_bills_ended days = 220 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 95 compare = equals }
				}
				add_political_power = -190
				add_timed_idea = { idea = GER_mefo_bills_ended days = 230 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 100 compare = equals }
				}
				add_political_power = -200
				add_timed_idea = { idea = GER_mefo_bills_ended days = 240 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 105 compare = equals }
				}
				add_political_power = -210
				add_timed_idea = { idea = GER_mefo_bills_ended days = 250 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 110 compare = equals }
				}
				add_political_power = -220
				add_timed_idea = { idea = GER_mefo_bills_ended days = 260 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = equals }
				}
				add_political_power = -230
				add_timed_idea = { idea = GER_mefo_bills_ended days = 270 }
			}
			if = {
				limit = {
					check_variable = { var = GER_mefo_bill_counter value = 115 compare = greater_than }
				}
				add_political_power = -240
				add_timed_idea = { idea = GER_mefo_bills_ended days = 280 }
			}			
		}

		ai_will_do = {
			factor = 0
		}
	}
}

GER_autarky_category = {
	GER_autarky_mission = {

		#allowed = { always = no }

		icon = ger_mefo_bills

		available = {
			NOT = {
				NOT = { has_government = democratic }
				GER_can_endure_autarky = yes
				#has_political_power > 0
			}
		}

		#cost = GER_mefo_bill_counter?10

		#selectable_mission = yes
		days_mission_timeout = 180
		is_good = no
		fire_only_once = yes
		activation = {
			GER_has_economy_fatigue = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					#NOT = { GER_can_endure_autarky = yes }
					has_idea = GER_economic_crash
					NOT = {GER_has_economy_fatigue = yes}
				}
			}
		}
		timeout_effect = {
			GER_autarky_level_up = yes
			
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 15 compare = less_than }
				}
				set_variable = { var = GER_autarky_counter value = 10 }
			}
			add_to_variable = { var = GER_autarky_counter value = 5 }

			hidden_effect = {
				activate_mission = GER_autarky_mission
			}
			IF = {
				limit = {
					has_idea = GER_economy_fatigue_10
				}
				add_timed_idea = {
					idea = GER_economic_crash
					days = 365
				}
				
				add_war_support = -0.5
				add_popularity = {
					ideology = fascism
					popularity = -0.5
				}
				swap_ideas = {
					remove_idea = autarki_economy
					add_idea = corporatist_economy
				}
				add_ideas = civilian_economy
				remove_ideas = {
					GER_economy_fatigue_10
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	GER_end_autarky = {
		available = {
			NOT = { has_government = democratic }
			GER_can_endure_autarky = yes
			GER_has_economy_fatigue = yes
		}
		visible = {
			GER_has_economy_fatigue = yes
		}
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_economy_fatigue = yes }
					has_idea = GER_economic_crash
				}
			}
		}		
		
		complete_effect = {
			GER_remove_autarky = yes
			swap_ideas = {
				remove_idea = autarki_economy
				add_idea = mixed_economy
			}
			#1
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 15 compare = less_than }
				}
				add_political_power = -40
				add_stability = -0.05
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 15 compare = equals }
				}
				add_political_power = -60
				add_stability = -0.5
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 20 compare = equals }
				}
				add_political_power = -80
				add_stability = -0.1
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 25 compare = equals }
				}
				add_political_power = -100
				add_stability = -0.1
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 30 compare = equals }
				}
				add_political_power = -120
				add_stability = -0.15
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 35 compare = equals }
				}
				add_political_power = -140
				add_stability = -0.15
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 40 compare = equals }
				}
				add_political_power = -160
				add_stability = -0.2
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 45 compare = equals }
				}
				add_political_power = -180
				add_stability = -0.2
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 50 compare = equals }
				}
				add_political_power = -200
				add_stability = -0.25
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 55 compare = equals }
				}
				add_political_power = -220
				add_stability = -0.25
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 60 compare = equals }
				}
				add_political_power = -240
				add_stability = -0.3
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 65 compare = equals }
				}
				add_political_power = -260
				add_stability = -0.3
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 70 compare = equals }
				}
				add_political_power = -280
				add_stability = -0.35
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 75 compare = equals }
				}
				add_political_power = -300
				add_stability = -0.35
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 80 compare = equals }
				}
				add_political_power = -320
				add_stability = -0.4
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 85 compare = equals }
				}
				add_political_power = -340
				add_stability = -0.4
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 90 compare = equals }
				}
				add_political_power = -360
				add_stability = -0.45
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 95 compare = equals }
				}
				add_political_power = -380
				add_stability = -0.45
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 100 compare = equals }
				}
				add_political_power = -400
				add_stability = -0.5
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 105 compare = equals }
				}
				add_political_power = -420
				add_stability = -0.5
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 110 compare = equals }
				}
				add_political_power = -440
				add_stability = -0.5
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 115 compare = equals }
				}
				add_political_power = -460
				add_stability = -0.5
				
			}
			if = {
				limit = {
					check_variable = { var = GER_autarky_counter value = 115 compare = greater_than }
				}
				add_political_power = -480
				add_stability = -0.5
				
			}			
		}

		ai_will_do = {
			factor = 0
		}
	}
	
	GER_use_polish_wealth = {
		
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_economy_fatigue = yes }
					has_idea = GER_economic_crash
				}
			}
		}
		
		visible = {
			GER_has_economy_fatigue = yes
			OR = {
				has_war_with = POL
				POL = {
					is_subject_of = GER
				}
				owns_state = 10
			}
		}
		
		available = {
			OR = {
				POL = {
					has_capitulated = yes
				}
				POL = {
					is_subject_of = GER
				}
				owns_state = 10
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
		
		fire_only_once = yes
		
		complete_effect = {
			GER_autarky_level_down = yes
			add_to_variable = { var = GER_autarky_counter value = -5 }
			custom_effect_tooltip = occupation_of_poland_economy_fatigue_tt
		}
	}
	
	
	GER_use_french_wealth = {
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_economy_fatigue = yes }
					has_idea = GER_economic_crash
				}
			}
		}
		
		visible = {
			GER_has_economy_fatigue = yes
			OR = {
				has_war_with = FRA
				FRA = {
					is_subject_of = GER
				}
				VIC = {
					is_subject_of = GER
				}
				owns_state = 16
			}
		}
		
		available = {
			OR = {
				FRA = {
					has_capitulated = yes
				}
				FRA = {
					is_subject_of = GER
				}
				VIC = {
					is_subject_of = GER
				}
				owns_state = 16
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
		
		fire_only_once = yes
		
		complete_effect = {
			GER_remove_autarky = yes
			custom_effect_tooltip = occupation_of_france_economy_fatigue_tt
		}
	}
	
	GER_use_ukrainian_wealth = {
		cancel_trigger = {

			hidden_trigger = {
				OR = {
					NOT = { GER_has_economy_fatigue = yes }
					has_idea = GER_economic_crash
				}
			}
		}
		
		visible = {
			GER_has_economy_fatigue = yes
			OR = {
				has_war_with = SOV
				UKR = {
					is_subject_of = GER
				}
				SOV = {
					is_subject_of = GER
				}
				owns_state = 193
			}
		}
		
		available = {
			OR = {
				
				UKR = {
					is_subject_of = GER
				}
				SOV = {
					is_subject_of = GER
				}
				owns_state = 193
			}
		}
		
		ai_will_do = {
			factor = 1000
		}
		
		fire_only_once = yes
		
		complete_effect = {
			GER_remove_autarky = yes
			custom_effect_tooltip = occupation_of_ukraine_economy_fatigue_tt
		}
	}
	
}

operations = {

	GER_barbarossa_mission = {

		icon = generic_operation

		allowed = {
			always = no
			#added through on_action
		}

		available = {
			219 = { is_controlled_by_ROOT_or_ally = yes }
			195 = { is_controlled_by_ROOT_or_ally = yes }
			202 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}

		days_mission_timeout = 180
		fire_only_once = yes

		activation = {

		}

		is_good = no

		complete_effect = {
			add_war_support = 0.1
			custom_effect_tooltip = barbarossa_mission_tt
		}

		timeout_effect = {
			
		}

		ai_will_do = {
			factor = 1
		}
	}
	
	
	GER_fall_weiss = {
	
		allowed = {
			original_tag = GER
		}
	
		icon = generic_operation
		
		visible = {
			
			has_completed_focus = GER_danzig_or_war
			NOT = {
				has_war_with = POL
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			
			has_completed_focus = GER_weiss
			NOT = {
				has_idea = GER_blitzkrieg
			}
			IF = {
				limit = {
					is_ai = yes
				}
				OR = {
					AND = {
						date > 1939.4.1
						date < 1939.11.1
					}			
					AND = {
						date > 1940.4.1
						date < 1940.11.1
					}
					AND = {
						date > 1941.4.1
						date < 1941.11.1
					}			
					AND = {
						date > 1942.4.1
						date < 1942.11.1
					}			
					AND = {
						date > 1943.4.1
						date < 1943.11.1
					}			
					AND = {
						date > 1944.4.1
						date < 1944.11.1
					}			
					AND = {
						date > 1945.4.1
						date < 1945.11.1
					}
				}
			}
		}
		
		complete_effect = {
			declare_war_on = {
				target = POL
				type = annex_everything
			}
			IF = {
				limit = {
					DZG = {
						exists = yes
					}
				}
				annex_country = {
					target = DZG
					transfer_troops = yes
				}
			}
			add_timed_idea = {
				idea = GER_blitzkrieg
				days = 21
			}
			
			IF = {
				limit = {
					GER = {
						is_ai = yes
					}
				}
				add_timed_idea = {
					idea = GER_help_ai
					days = 30
				}
				add_timed_idea = {
					idea = GER_AI_weiss
					days = 60
				}
			}
		}
	
	
	}
	
	
	GER_fall_gelb = {
	
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		
		visible = {
			
			#has_war_with = FRA
			has_completed_focus = GER_around_maginot
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		available = {
			
			has_completed_focus = GER_around_maginot
			NOT = {
				has_idea = GER_blitzkrieg
			}
			IF = {
				limit = {
					is_ai = yes
				}
				OR = {
					AND = {
						date > 1939.4.15
						date < 1939.11.1
					}			
					AND = {
						date > 1940.4.15
						date < 1940.11.1
					}
					AND = {
						date > 1941.4.15
						date < 1941.11.1
					}			
					AND = {
						date > 1942.4.15
						date < 1942.11.1
					}			
					AND = {
						date > 1943.4.15
						date < 1943.11.1
					}			
					AND = {
						date > 1944.4.15
						date < 1944.11.1
					}			
					AND = {
						date > 1945.4.15
						date < 1945.11.1
					}
				}
			}
		}
		
		complete_effect = {
			if = { 
				limit = {
					country_exists = BEL
					NOT = { BEL = { is_in_faction_with = GER } }
					NOT = { has_war_with = BEL }
				}
				declare_war_on = {
					target = BEL
					type = annex_everything
				}
			}
			if =  {
				limit = {
					country_exists = HOL
					NOT = { HOL = { is_in_faction_with = GER } }
					NOT = { has_war_with = HOL }
				}
				declare_war_on = {
					target = HOL
					type = annex_everything
				}
			}
			if = {
				limit = {
					country_exists = LUX
					NOT = { LUX = { is_in_faction_with = GER } }
					NOT = { has_war_with = LUX }
					is_ai = no
				}
				declare_war_on = {
					target = LUX
					type = annex_everything
				}		
			}
			add_timed_idea = {
				idea = GER_blitzkrieg
				days = 30
			}
			FRA = {
				country_event = {
					id = france.264
					days = 1
				}
			}
			effect_tooltip = {
				IF = {
					limit = {
						is_ai = no
					}
					FRA = {
						add_timed_idea = {
							idea = FRA_disorganized_army
							days = 30
						}
					}
				}
				IF = {
					limit = {
						is_ai = yes
					}
					FRA = {
						add_timed_idea = {
							idea = FRA_disorganized_army
							days = 120
						}
					}
				}
			}
			
			IF = {
				limit = {
					GER = {
						is_ai = yes
					}
				}
				add_timed_idea = {
					idea = GER_help_ai
					days = 90
				}
				add_timed_idea = {
					idea = GER_AI_gelb
					days = 90
				}
			}
		}
		
	}
		
	GER_operation_Barbarossa = {
	
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
			
		visible = {
			
			NOT = {
				has_war_with = SOV
			}
			OR = {
				has_completed_focus = GER_ussr_war_goal
				has_completed_focus = GER_tackle_the_communist_threat
				has_completed_focus = GER_strike_at_the_source
			}
		}
			
		fire_only_once = yes
			
		ai_will_do = {
			factor = 100
		}			
		available = {
			
		
			NOT = {
				has_idea = GER_blitzkrieg
			}
			OR = {
				has_completed_focus = GER_ussr_war_goal
				has_completed_focus = GER_tackle_the_communist_threat
				has_completed_focus = GER_strike_at_the_source
			}
			IF = {
				limit = {
					is_ai = yes
				}
				OR = {
									
					AND = {
						date > 1940.6.1
						date < 1940.8.1
					}
					AND = {
						date > 1941.6.1
						date < 1941.8.1
					}			
					AND = {
						date > 1942.6.1
						date < 1942.8.1
					}			
					AND = {
						date > 1943.6.1
						date < 1943.8.1
					}			
					AND = {
						date > 1944.6.1
						date < 1944.8.1
					}			
					AND = {
						date > 1945.6.1
						date < 1945.8.1
					}
				}
			}
		}
			
		complete_effect = {
			declare_war_on = {
				target = SOV
				type = annex_everything
			}
			
			IF = {
				limit = {
					is_ai = yes
				}
				add_timed_idea = {
					idea = GER_AI_barba
					days = 120
				}
				add_timed_idea = {
					idea = GER_help_ai
					days = 120
				}
			}
		}
	
	
	}
		
	GER_fall_blau_operation = {
	
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
			
		visible = {
			
			has_war_with = SOV
			has_completed_focus = GER_fall_blau
		}
			
		fire_only_once = yes
			
		ai_will_do = {
			factor = 100
		}			
		available = {
			
			has_completed_focus = GER_fall_blau
			NOT = {
				has_idea = GER_barbarossa
			}
			any_country = {
				OR = {
					original_tag = GER
					is_in_faction_with = GER
				}
				controls_state = 206 #minsk
				controls_state = 202 #kiev
			
				NOT = {
					controls_state = 217 # Stalingrad
					controls_state = 229 # Baku
				}
			}
			IF = {
				limit = {
					is_ai = yes
				}
				OR = {								
					AND = {
						date > 1941.5.15
						date < 1941.7.15
					}			
					AND = {
						date > 1942.5.15
						date < 1942.7.15
					}			
					AND = {
						date > 1943.5.15
						date < 1943.7.15
					}			
					AND = {
						date > 1944.5.15
						date < 1944.7.15
					}			
					AND = {
						date > 1945.5.15
						date < 1945.7.15
					}
				}
			}
		}
			
		complete_effect = {

			add_timed_idea = {
				idea = GER_barbarossa
				days = 90
			}
		}		
	}
	
	GER_wacht_am_rhein_mission = {
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
			
		visible = {
			
			has_war_with = SOV
			has_war_with = USA
			has_war_with = ENG 
			has_war_with = FRA
			has_completed_focus = GER_wacht_am_rhein
		}
		
		fire_only_once = yes
			
		ai_will_do = {
			factor = 100
		}
		
		available = {
			
			has_completed_focus = GER_wacht_am_rhein
			NOT = {
				has_idea = GER_blitzkrieg
			}
			has_war_with = USA 
			has_war_with = ENG 
			has_war_with = FRA 
			any_country = {
				OR = {
					original_tag = GER
					is_in_faction_with = GER
				}
				NOT = {
					controls_state = 16 #Paris
					controls_state = 29 #Nord-pas-de-Calais
				}
			}
			controls_state = 51 #Rheinland
			has_tech = advanced_medium_tank
			has_tech = advanced_heavy_tank
			
			OR = {
				AND = {
					date > 1943.12.1
					date < 1944.2.1
				}
				AND = {
					date > 1944.12.1
					date < 1945.2.1
				}
				AND = {
					date > 1945.12.1
					date < 1946.2.1
				}
			}
			
		}
		
		complete_effect = {
			add_timed_idea = {
				idea = GER_winter_offensive
				days = 30
			}
		}	
	}
	
	
	
	GER_help_Iraq = {
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		
		visible = {
			VIC = { exists = yes}
			
		}
		
		available = {
			
			IRQ = {
				has_war_with = ENG
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			GER = {
				puppet = IRQ
				puppet = SYR
				puppet = LEB
			}
		}
	}
}

GER_case_anton_category = {

	GER_case_anton = {

		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}

		available = {
			
			VIC = {
				exists = yes
			}
			OR = {
				AND = {
					FNA = {
						exists = no
					}
					VIC = {
						NOT = {is_subject_of = GER}
						NOT = { has_country_flag = case_anton }
						NOT = { controls_state = 459} #Alger
					}
				}
				FRA = {
					controls_state = 16 #Paris
				}
			}
			divisions_in_state = { state = 31 size < 1 }
			divisions_in_state = { state = 25 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 21 size < 1 }
			divisions_in_state = { state = 32 size < 1 }
			divisions_in_state = { state = 22 size < 1 }
			divisions_in_state = { state = 26 size < 1 }
			divisions_in_state = { state = 33 size < 1 }
			divisions_in_state = { state = 20 size < 1 }
			OR = {
				ITA = { owns_state = 735 }
				divisions_in_state = { state = 735 size < 1 }
			}
			OR = {
				ITA = { owns_state = 798 }
				divisions_in_state = { state = 780 size < 1 }
			}
		}

		
		fire_only_once = yes

		visible = {
			
			VIC = {
				exists = yes
			}
		}
		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0.5
				ITA = { has_capitulated = no }
			}
		}
		complete_effect = {
			custom_effect_tooltip = GER_case_anton_tt
			hidden_effect = {
				
				GER = {puppet = VIC}
				VIC = {
					set_country_flag = case_anton
					activate_mission = FRA_case_anton_mission
				}
			}
		}
	}
}

#Category only allowed for GER
GER_reichskommissariats = {
	#GER_reichskommissariat_norwegen = {
	#
	#	icon = ger_reichskommissariats
	#
	#	available = {
	#		has_completed_focus = GER_form_the_reichskommissariats
	#		has_government = fascism
	#		has_full_control_of_state = 110
	#		has_full_control_of_state = 142
	#		has_full_control_of_state = 143
	#		has_full_control_of_state = 144
	#	}
	#
	#	cost = 0
	#	ai_will_do = {
	#		factor = 5
	#		modifier = {
	#			add = 1
	#			ENG = { has_capitulated = yes }
	#		}
	#	}
	#
	#	visible = {
	#		has_completed_focus = GER_form_the_reichskommissariats
	#		has_government = fascism
	#	}
#
#		complete_effect = {
#			if = {
#				limit = {
#					country_exists = NOR
#					NOT = { NOR = { has_government = fascism } }							 
#				}
#				hidden_effect = {
#					NOR = {
#						set_state_controller = 110
#						set_state_controller = 142
#						set_state_controller = 143
#						set_state_controller = 144
#					}
#				}
#				NOR = {
#					start_civil_war = { ideology = fascism size = 1 }
#				}
#				random_country = {
#					limit= {
#						original_tag = NOR
#						has_government = fascism
#					}
#					transfer_state = 110
#					transfer_state = 142
##					transfer_state = 143
#					transfer_state = 144
#					GER = {
#						puppet = PREV
##						set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
#					}
#					set_cosmetic_tag = NOR_reichskommissariat
#					create_country_leader = {
#						name = "Josef Terboven"
##						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
#						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Terboven.dds"
#						expire = "1965.1.1"
##						ideology = nazism
#						traits = {
#						}
#					}
#					add_ideas = volunteer_only
#					add_ideas = reichskommissariats
#				}
#			}
##			else = {
#				NOR = {
###					transfer_state = 110
	#				transfer_state = 142
	#				transfer_state = 143
#					transfer_state = 144
#					set_cosmetic_tag = NOR_reichskommissariat
#					create_country_leader = {
#						name = "Josef Terboven"
#						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
#						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Terboven.dds"
#						expire = "1965.1.1"
#						ideology = nazism
#						traits = {
#						}
#					}
#					add_ideas = volunteer_only
#					add_ideas = reichskommissariats
#				}
#				set_autonomy = { target = NOR autonomy_state = autonomy_reichskommissariat }
#			}
#		}
#	}

	GER_reichskommissariat_niederlande = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			has_full_control_of_state = 7
			has_full_control_of_state = 35
			has_full_control_of_state = 36
		}

		cost = 0

		ai_will_do = {
			factor = 5
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = HOL
					NOT = { HOL = { has_government = fascism } }							 
				}
				hidden_effect = {
					HOL = {
						set_state_controller = 7
						set_state_controller = 35
						set_state_controller = 36
					}
				}
				HOL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = HOL
						has_government = fascism
					}
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
					}
					
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Arthur_Seyss-Inquart.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					add_ideas = volunteer_only
					add_ideas = reichskommissariats
				}
			}
			else = {
				HOL = {
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Arthur_Seyss-Inquart.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					add_ideas = volunteer_only
					add_ideas = reichskommissariats
				}
				set_autonomy = { target = HOL autonomy_state = autonomy_reichskommissariat }
			}
		}
	}

	GER_reichskommissariat_belgien_nordfrankreich = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
			has_full_control_of_state = 6
			has_full_control_of_state = 29
			has_full_control_of_state = 34
			has_full_control_of_state = 797
		}

		cost = 0

		ai_will_do = {
			factor = 5
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_form_the_reichskommissariats
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = BEL
					NOT = { BEL = { has_government = fascism } }							 
				}
				hidden_effect = {
					BEL = {
						set_state_controller = 6
						set_state_controller = 34
						set_state_controller = 797
					}
				}
				BEL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = BEL
						has_government = fascism
					}
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					transfer_state = 797
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
					}
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Grohe.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					add_ideas = volunteer_only
					add_ideas = reichskommissariats
					hidden_effect = {
						29 = { add_core_of = PREV }
					}
				}
			}
			else = {
				BEL = {
					transfer_state = 6
					transfer_state = 29
					transfer_state = 34
					transfer_state = 797
					set_cosmetic_tag = BEL_reichskommissariat
					create_country_leader = {
						name = "Josef Grohe"
						desc = "POLITICS_JOSEF_GROHE_DESC"
						picture = "gfx/leaders/GER/Portrait_Germany_Josef_Grohe.dds"
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
					add_ideas = volunteer_only
					add_ideas = reichskommissariats
				}
				set_autonomy = { target = BEL autonomy_state = autonomy_reichskommissariat }
			}
		}
	}

	# GER_reichskommissariat_ostland = {

	# 	icon = ger_reichskommissariats

	# 	available = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 		has_full_control_of_state = 97
	# 		has_full_control_of_state = 94
	# 		has_full_control_of_state = 95
	# 		has_full_control_of_state = 96
	# 		has_full_control_of_state = 194
	# 		has_full_control_of_state = 204
	# 		has_full_control_of_state = 206
	# 		has_full_control_of_state = 207
	# 		has_full_control_of_state = 241
	# 		has_full_control_of_state = 11
	# 		has_full_control_of_state = 784		   
	# 		has_full_control_of_state = 189
	# 		has_full_control_of_state = 12
	# 		has_full_control_of_state = 190
	# 		has_full_control_of_state = 13
	# 		has_full_control_of_state = 191
	# 	}

	# 	cost = 0

	# 	ai_will_do = {
	# 		factor = 5
	# 		modifier = {
	# 			add = 1
	# 			SOV = { has_capitulated = yes }
	# 		}
	# 	}

	# 	visible = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 	}

	# 	complete_effect = {
	# 		release = BLR
	# 		BLR = {
	# 			transfer_state = 11
	# 			transfer_state = 784			  
	# 			transfer_state = 189
	# 			transfer_state = 12
	# 			transfer_state = 190
	# 			transfer_state = 13
	# 			transfer_state = 191
	# 			transfer_state = 97
	# 			transfer_state = 94
	# 			transfer_state = 95
	# 			transfer_state = 96
	# 			transfer_state = 194
	# 			transfer_state = 204
	# 			transfer_state = 206
	# 			transfer_state = 207
	# 			transfer_state = 241
	# 			transfer_state = 766
	# 			GER = {
	# 				puppet = PREV
	# 				if = {
	# 					limit = {
	# 						NOT = { has_dlc = "Death or Dishonor" }
	# 					}
	# 					set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
	# 				}
	# 				else = {
	# 					set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
	# 				}
	# 			}
				
	# 			set_cosmetic_tag = BLR_reichskommissariat
	# 			create_country_leader = {
	# 				name = "Hinrich Lohse"
	# 				desc = "POLITICS_HINRICH_LOHSE_DESC"
	# 				picture = "gfx/leaders/GER/Portrait_Germany_Hinrich_Lohse.dds"
	# 				expire = "1965.1.1"
	# 				ideology = nazism
	# 				traits = {
	# 				}
	# 			}
	# 			add_ideas = volunteer_only
	# 			add_ideas = reichskommissariats
	# 			hidden_effect = {
	# 				every_state = {
	# 					limit = {
	# 						OR = {
	# 							state = 11
	# 							state = 189
	# 							state = 12
	# 							state = 190
	# 							state = 13
	# 							state = 191
	# 							state = 784
	# 							state = 97
	# 						}
	# 						is_owned_by = GER
	# 					}
	# 					BLR = {
	# 						transfer_state = PREV
	# 					}
	# 				}
	# 				11 = { add_core_of = PREV }
	# 				97 = { add_core_of = PREV }
	# 				189 = { add_core_of = PREV }
	# 				12 = { add_core_of = PREV }
	# 				190 = { add_core_of = PREV }
	# 				13 = { add_core_of = PREV }
	# 				191 = { add_core_of = PREV }
	# 				784 = { add_core_of = PREV }			 
	# 			}
	# 		}
	# 	}
	# }

	# GER_reichskommissariat_ukraine = {

	# 	icon = ger_reichskommissariats

	# 	available = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 		has_full_control_of_state = 93
	# 		has_full_control_of_state = 91
	# 		has_full_control_of_state = 89
	# 		has_full_control_of_state = 199
	# 		has_full_control_of_state = 201
	# 		#has_full_control_of_state = 198
	# 		has_full_control_of_state = 202
	# 		has_full_control_of_state = 193
	# 		#has_full_control_of_state = 192
	# 		has_full_control_of_state = 203
	# 		has_full_control_of_state = 197
	# 		has_full_control_of_state = 225
	# 		has_full_control_of_state = 259
	# 		has_full_control_of_state = 226
	# 		has_full_control_of_state = 196
	# 		has_full_control_of_state = 200
	# 		has_full_control_of_state = 221
	# 		has_full_control_of_state = 228
	# 		has_full_control_of_state = 227
	# 	}

	# 	cost = 0

	# 	ai_will_do = {
	# 		factor = 5
	# 		modifier = {
	# 			add = 1
	# 			SOV = { has_capitulated = yes }
	# 		}
	# 	}

	# 	visible = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 	}

	# 	complete_effect = {
	# 		release = UKR
	# 		UKR = {
	# 			transfer_state = 93
	# 			transfer_state = 91
	# 			transfer_state = 89
	# 			transfer_state = 199
	# 			transfer_state = 201
	# 			#transfer_state = 198
	# 			transfer_state = 202
	# 			transfer_state = 193
	# 			#transfer_state = 192
	# 			transfer_state = 203
	# 			transfer_state = 197
	# 			transfer_state = 225
	# 			transfer_state = 259
	# 			transfer_state = 226
	# 			transfer_state = 196
	# 			transfer_state = 200
	# 			transfer_state = 221
	# 			transfer_state = 228
	# 			transfer_state = 227
	# 			GER = {
	# 				puppet = PREV
	# 				set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
	# 			}
	# 			set_cosmetic_tag = UKR_reichskommissariat
	# 			create_country_leader = {
	# 				name = "Erich Koch"
	# 				desc = "POLITICS_HINRICH_LOHSE_DESC"
	# 				picture = "gfx/leaders/GER/Portrait_Germany_Erich_Koch.dds"
	# 				expire = "1965.1.1"
	# 				ideology = nazism
	# 				traits = {
	# 				}
	# 			}
	# 			add_ideas = volunteer_only
	# 			add_ideas = reichskommissariats
	# 		}
	# 	}
	# }
	
	# GER_reichskommissariat_moskovien = {

	# 	icon = ger_reichskommissariats

	# 	available = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 		has_full_control_of_state = 219
	# 		has_full_control_of_state = 195
	# 		has_full_control_of_state = 214

	# 	}

	# 	cost = 0

	# 	ai_will_do = {
	# 		factor = 5
	# 		modifier = {
	# 			add = 1
	# 			SOV = { has_capitulated = yes }
	# 		}
	# 	}

	# 	visible = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 	}

	# 	complete_effect = {
	# 		release = MSK
	# 		MSK = {
	# 			transfer_state = 214
	# 			transfer_state = 351
	# 			transfer_state = 248
	# 			transfer_state = 253
	# 			transfer_state = 252
	# 			transfer_state = 254
	# 			transfer_state = 223
	# 			transfer_state = 222
	# 			transfer_state = 220
	# 			transfer_state = 224
	# 			transfer_state = 243
	# 			transfer_state = 242
	# 			transfer_state = 210
	# 			transfer_state = 209
	# 			transfer_state = 208
	# 			transfer_state = 195
	# 			transfer_state = 244
	# 			transfer_state = 264
	# 			transfer_state = 263
	# 			transfer_state = 246
	# 			transfer_state = 247
	# 			transfer_state = 242
	# 			transfer_state = 219
	# 			transfer_state = 205
	# 			transfer_state = 240
	# 			add_ideas = volunteer_only
	# 			add_ideas = reichskommissariats
				
	# 			GER = {
	# 				puppet = PREV
	# 				set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
	# 			}
				
				
	# 		}
	# 	}
	# }
	
	# GER_reichskommissariat_don_wolga = {

	# 	icon = ger_reichskommissariats

	# 	available = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 		has_full_control_of_state = 250
	# 		has_full_control_of_state = 217
	# 		has_full_control_of_state = 218
			

	# 	}

	# 	cost = 0

	# 	ai_will_do = {
	# 		factor = 5
	# 		modifier = {
	# 			add = 1
	# 			SOV = { has_capitulated = yes }
	# 		}
	# 	}

	# 	visible = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 	}

	# 	complete_effect = {
	# 		release = RDW
	# 		RDW = {
	# 			transfer_state = 256
	# 			transfer_state = 250
	# 			transfer_state = 255
	# 			transfer_state = 257
	# 			transfer_state = 258
	# 			transfer_state = 260
	# 			transfer_state = 245
	# 			transfer_state = 218
	# 			transfer_state = 245
	# 			transfer_state = 217
	# 			transfer_state = 265
	# 			transfer_state = 239
	# 			add_ideas = volunteer_only
	# 			add_ideas = reichskommissariats
				
	# 			GER = {
	# 				puppet = PREV
	# 				set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
	# 			}
				
				
	# 		}
	# 	}
	# }
	
	# GER_reichskommissariat_kaukasus = {

	# 	icon = ger_reichskommissariats

	# 	available = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 		has_full_control_of_state = 229
	# 		has_full_control_of_state = 137
	# 		has_full_control_of_state = 230
			
	# 	}

	# 	cost = 0

	# 	ai_will_do = {
	# 		factor = 5
	# 		modifier = {
	# 			add = 1
	# 			SOV = { has_capitulated = yes }
	# 		}
	# 	}

	# 	visible = {
	# 		has_completed_focus = GER_form_the_reichskommissariats
	# 		has_government = fascism
	# 	}

	# 	complete_effect = {
	# 		release = KAU
	# 		KAU = {
	# 			transfer_state = 137
	# 			transfer_state = 234
	# 			transfer_state = 238
	# 			transfer_state = 237
	# 			transfer_state = 236
	# 			transfer_state = 235
	# 			transfer_state = 232
	# 			transfer_state = 233
	# 			transfer_state = 231
	# 			transfer_state = 229
	# 			transfer_state = 230
	# 			add_ideas = volunteer_only
	# 			add_ideas = reichskommissariats
				
				
	# 			GER = {
	# 				puppet = PREV
	# 				set_autonomy = { target = PREV autonomy_state = autonomy_reichskommissariat }
	# 			}
				
				
	# 		}
	# 	}
	# }
}

GER_atlantik_wall_category = {

	GER_naval_bases_fortification_1 = {
		icon = generic_construction
		allowed = {
			original_tag = GER
		}

		available = {
			OR = {
				has_full_control_of_state = 19
				has_full_control_of_state = 23
				has_full_control_of_state = 30
				has_full_control_of_state = 14
				has_full_control_of_state = 15
				has_full_control_of_state = 29
				has_full_control_of_state = 6
				has_full_control_of_state = 7
				has_full_control_of_state = 36
				has_full_control_of_state = 99
				has_full_control_of_state = 110
				has_full_control_of_state = 142
				has_full_control_of_state = 143
				has_full_control_of_state = 144
				has_full_control_of_state = 785
			}
			has_completed_focus = GER_atlantikwall
			num_of_civilian_factories_available_for_projects > 25
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		
		days_remove = 90
		is_good = yes
		modifier = {
			civilian_factory_use = 25
		}
		
		remove_effect = {
			custom_effect_tooltip = GER_fortified_bases_1_tt
			hidden_effect = {
				set_country_flag = atlantikwall_1
				
				#Aquitaine
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 19
						}
					}
					19 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Charentes
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 23
						}
					}
					23 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Loire 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 30
						}
					}
					30 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Bretagne
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 14
						}
					}
					14 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Normandie
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 15
						}
					}
					15 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Picardie 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 785
						}
					}
					785 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Nord Pas de Calais 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 29
						}
					}
					29 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Vlaanderen
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 6
						}
					}
					6 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Brabant
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 35
						}
					}
					35 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Holland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 7
						}
					}
					7 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Friesland 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 36
						}
					}
					36 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Weser-ems 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 56
						}
					}
					56 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#lower Elbe
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 789
						}
					}
					789 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Hamburg
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 790
						}
					}
					790 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Holstein
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 58
						}
					}
					58 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Schleswig
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 801
						}
					}
					801 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Jutland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 99
						}
					}
					99 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Ostlanded
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 110
						}
					}
					110 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Vestlanded
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 142
						}
					}
					142 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Trondelag
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 143
						}
					}
					143 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Nord-Norge
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 144
						}
					}
					144 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
			}
		}
	}
	
	GER_fortification_coastline = {
		icon = generic_construction
		visible = {
			has_country_flag = atlantikwall_1
		}
		available = {
			OR = {
				has_full_control_of_state = 19
				has_full_control_of_state = 23
				has_full_control_of_state = 30
				has_full_control_of_state = 14
				has_full_control_of_state = 15
				has_full_control_of_state = 29
				has_full_control_of_state = 6
				has_full_control_of_state = 7
				has_full_control_of_state = 36
				has_full_control_of_state = 99
				has_full_control_of_state = 110
				has_full_control_of_state = 142
				has_full_control_of_state = 143
				has_full_control_of_state = 144
				has_full_control_of_state = 785
			}
			has_completed_focus = GER_atlantikwall
			num_of_civilian_factories_available_for_projects > 25
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		
		days_remove = 120
		is_good = yes
		modifier = {
			civilian_factory_use = 25
		}
		
		remove_effect = {
			custom_effect_tooltip = GER_fortified_coastline_tt
			hidden_effect = {
				set_country_flag = atlantikwall_2
				
				#Aquitaine
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 19
						}
					}
					19 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Charentes
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 23
						}
					}
					23 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Loire 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 30
						}
					}
					30 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Bretagne
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 14
						}
					}
					14 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Normandie
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 15
						}
					}
					15 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Picardie 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 785
						}
					}
					785 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Nord Pas de Calais 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 29
						}
					}
					29 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Vlaanderen
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 6
						}
					}
					6 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Brabant
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 35
						}
					}
					35 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Holland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 7
						}
					}
					7 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Friesland 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 36
						}
					}
					36 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Weser-ems 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 56
						}
					}
					56 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#lower Elbe
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 789
						}
					}
					789 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Hamburg
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 790
						}
					}
					790 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Holstein
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 58
						}
					}
					58 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Schleswig
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 801
						}
					}
					801 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Jutland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 99
						}
					}
					99 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Ostlanded
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 110
						}
					}
					110 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Vestlanded
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 142
						}
					}
					142 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Trondelag
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 143
						}
					}
					143 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Nord-Norge
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 144
						}
					}
					144 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
			}
		}
	}
	
	GER_fortification_coastline_2 = {
		icon = generic_construction
		visible = {
			has_country_flag = atlantikwall_2
		}
		available = {
			OR = {
				has_full_control_of_state = 19
				has_full_control_of_state = 23
				has_full_control_of_state = 30
				has_full_control_of_state = 14
				has_full_control_of_state = 15
				has_full_control_of_state = 29
				has_full_control_of_state = 6
				has_full_control_of_state = 7
				has_full_control_of_state = 36
				has_full_control_of_state = 99
				has_full_control_of_state = 110
				has_full_control_of_state = 142
				has_full_control_of_state = 143
				has_full_control_of_state = 144
				has_full_control_of_state = 785
			}
			has_completed_focus = GER_atlantikwall
			num_of_civilian_factories_available_for_projects > 25
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		
		days_remove = 150
		is_good = yes
		modifier = {
			civilian_factory_use = 25
		}
		
		remove_effect = {
			custom_effect_tooltip = GER_fortified_coastline_2_tt
			hidden_effect = {
				set_country_flag = atlantikwall_3
				
				
				
				#Bretagne
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 14
						}
					}
					14 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Normandie
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 15
						}
					}
					15 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Picardie 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 785
						}
					}
					785 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Nord Pas de Calais 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 29
						}
					}
					29 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				# Vlaanderen
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 6
						}
					}
					6 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Brabant
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 35
						}
					}
					35 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				#Holland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 7
						}
					}
					7 = {
						add_building_construction = {
            	    	    type = coastal_bunker
            	    	    province = {
            	    	        all_provinces = yes
            	    	        limit_to_coastal = yes
            	    	    }
            	    	    level = 2
            	    	    instant_build = yes
            	    	}
						add_building_construction = {
            	    	    type = anti_air_building
            	    	    
            	    	    level = 2
            	    	    instant_build = yes
            	    	}

					}
				}
				
				
			}
		}
	}
	
	GER_naval_bases_fortification_2 = {
		icon = generic_construction
		visible = {
			has_country_flag = atlantikwall_3
		}
		available = {
			OR = {
				has_full_control_of_state = 19
				has_full_control_of_state = 23
				has_full_control_of_state = 30
				has_full_control_of_state = 14
				has_full_control_of_state = 15
				has_full_control_of_state = 29
				has_full_control_of_state = 6
				has_full_control_of_state = 7
				has_full_control_of_state = 36
				has_full_control_of_state = 99
				has_full_control_of_state = 110
				has_full_control_of_state = 142
				has_full_control_of_state = 143
				has_full_control_of_state = 144
				has_full_control_of_state = 785
			}
			has_completed_focus = GER_atlantikwall
			num_of_civilian_factories_available_for_projects > 25
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		
		days_remove = 180
		is_good = yes
		modifier = {
			civilian_factory_use = 25
		}
		
		remove_effect = {
			
			custom_effect_tooltip = GER_fortified_bases_2_tt
			hidden_effect = {
				set_country_flag = atlantikwall_4
				
				#Aquitaine
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 19
						}
					}
					19 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Charentes
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 23
						}
					}
					23 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Loire 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 30
						}
					}
					30 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Bretagne
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 14
						}
					}
					14 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Normandie
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 15
						}
					}
					15 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Picardie 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 785
						}
					}
					785 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Nord Pas de Calais 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 29
						}
					}
					29 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Vlaanderen
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 6
						}
					}
					6 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Brabant
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 35
						}
					}
					35 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Holland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 7
						}
					}
					7 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Friesland 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 36
						}
					}
					36 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Weser-ems 
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 56
						}
					}
					56 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#lower Elbe
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 789
						}
					}
					789 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Hamburg
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 790
						}
					}
					790 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Holstein
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 58
						}
					}
					58 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				#Schleswig
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 801
						}
					}
					801 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
				# Jutland
				
				if = {
					limit = {
						any_country = {
							OR = {
								tag = GER
								is_in_faction_with = GER
							}
							has_full_control_of_state = 99
						}
					}
					99 = {
						#Fortify naval bases
						add_building_construction = {
							type = coastal_bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_naval_base = yes
							}
							level = 2
							instant_build = yes
						}

					}
				}
				
			}
			
		}
	}
}

political_actions = {

	# Reinstate Wilhelm IV into the line of succession
	reinstate_wilhelm_iv_succession_rights = {

		allowed = {
			original_tag = GER
		}

		available = {
			
		}

		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_country_flag = backed_down_netherlands_kaiser
		}

		complete_effect = {
			add_stability = -0.10
			add_popularity = { ideology = neutrality popularity = -0.05 }
			custom_effect_tooltip = reinstate_wilhelm_iv_succession_rights_tt
			hidden_effect = {
				set_country_flag = reinstated_wilhelm_iv_succession_rights
			}
		}
	}
	
	# Agnatic-Cognatic Primogeniture
	modernize_the_succession_laws = {

		allowed = {
			original_tag = GER
		}

		available = {
			
		}

		cost = 150

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_country_flag = reinstated_wilhelm_iv_succession_rights
		}

		complete_effect = {
			add_stability = 0.05
			custom_effect_tooltip = modernize_the_succession_laws_tt
			hidden_effect = {
				set_country_flag = modernized_succession_laws
			}
		}
	}

	recall_von_lettow_vorbeck = {

		allowed = {
			original_tag = GER
		}
		available = {
			has_civil_war = no
		}
		visible = {
			OR = {
				has_country_leader = { ruling_only = yes name = "Wilhelm II" }
				has_country_leader = { ruling_only = yes name = "Wilhelm III" }
				has_country_leader = { ruling_only = yes name = "Victoria" }
			}
		}
		cost = 25
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		complete_effect = {
			create_corps_commander = {
				name = "Paul von Lettow-Vorbeck"
				gfx = GFX_portrait_ger_von_lettow_vorbeck
				traits = { infantry_officer harsh_leader war_hero trickster jungle_rat}
				skill = 3
				id = 4
				attack_skill = 3
				defense_skill = 3
				planning_skill = 2
				logistics_skill = 2
			}
		}
	}
	
	# Safety regulations
	GER_sharpen_air_safety_regulations = {

  
		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger"
		}

		available = {
							   							 
		}
		
		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_government = neutrality
		}

		complete_effect = {
			add_timed_idea = { idea = GER_air_safety_regulations days = 1095 }
			set_global_flag = GER_air_safety_regulations_flag
												
		}
	}
	
	total_krieg_speech = {
		
		icon = generic_political_discourse
		
		allowed = {
			original_tag = GER
		}
		available = {
			has_civil_war = no
			has_idea = speer
			has_idea = joseph_goebbels
		}
		visible = {
			OR = {
				has_war_with = USA
				AND = {
					has_war_with = SOV 
					casualties > 1000000
				}
			}
		}
		cost = 100
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_war_support = 0.05
			set_country_flag = total_krieg_speech
			custom_effect_tooltip = total_krieg_speech_tt
		}
	}
	
	reintegrate_eastern_claims = {
	
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		visible = {
			original_tag = GER
			OR = {
				has_war_with = POL
				AND = {
					owns_state = 85
					owns_state = 817
					owns_state = 86
					owns_state = 762
				}
			}
			
		}
		available = {
			OR = {
				AND = {
					has_war_with = POL
					POL = {
						has_capitulated = yes 
					}
					controls_state = 85
					controls_state = 817
					controls_state = 86
					controls_state = 762
				}
				AND = {
					owns_state = 85
					owns_state = 817
					owns_state = 86
					owns_state = 762
				}
			}
		}
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			add_war_support = 0.05
			transfer_state = 85
			transfer_state = 86
			transfer_state = 762
			transfer_state = 817
			86 = {
				set_state_name = "Posen"
			}
			85 = {
				set_state_name = "West Prussia"
			}
			762 = {
				set_state_name = "Kattowitz"
			}
			817 = {
				remove_core_of = DZG
			}
			set_province_name = { id = 9263 name = "Gotenhafen" }
			set_province_name = { id = 279 name = "Bromberg" }
			set_province_name = { id = 3295 name = "Thorn" }
			set_province_name = { id = 6558 name = "Posen" }
			set_province_name = { id = 6464 name = "Kattowitz" }
		}
	}
	
	integrate_german_swiss = {
	
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		visible = {
			original_tag = GER
			controls_state = 151
		}
		
		available = {
			controls_state = 151
			OR = {
				owns_state = 151
				SWI = {has_capitulated = yes}
			}
		}
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			transfer_state = 151
			add_state_core = 151
		}
	}
	
	GER_resume_the_war_effort = {
		icon = generic_operation
		
		allowed = {
			original_tag = GER
		}
		visible = {
			has_idea = GER_sieg_im_westen
		}
		
		available = {
			OR = {
				has_war_with = USA
				has_war_with = SOV
			}
		}
		
		fire_only_once = yes
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			remove_ideas = GER_sieg_im_westen
		}
	}
}

foreign_politics = {
	
	# Titles Deprivation Act 1917
	request_restoration_of_british_titles = {

		allowed = {
			original_tag = GER
		}

		available = {
			ENG = { has_opinion = { target = GER value > 99 } }
			custom_trigger_tooltip = {
				tooltip = hindenburg_destroyed_tt
				NOT = { has_global_flag = hindenburg_destroyed }
			}
		}

		cost = 150

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}

		visible = {
			has_war = no
			has_government = neutrality
			has_completed_focus = GER_ally_the_shade
			has_country_flag = modernized_succession_laws
		}

		complete_effect = {
			ENG = { country_event = { id = wtt_germany.999 days = 1 } }
			custom_effect_tooltip = request_restoration_of_british_titles_tt
			hidden_effect = { set_global_flag = hindenburg_event_in_progress }
		}
	}

	GER_request_polish_war_participation = {

		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GER
		}

		available = {
			has_war_with = SOV
			NOT = { is_in_faction_with = POL }
		}

		cost = 50

		fire_only_once = yes

		ai_will_do = {
			factor = 200
		}

		visible = {
			has_country_flag = poland_traded_danzig
			has_completed_focus = GER_tackle_the_communist_threat
		}

		complete_effect = {
			POL = { country_event = { id = wtt_germany.65 hours = 6 } }
		}

	}
	
	GER_DOW_USA = {
	
		icon = decision_generic_break_treaty
		allowed = {
			original_tag = GER
		}
		
		visible = {
			OR = {
				has_war_with = ENG 
				has_war_with = SOV 
				has_war_with = USA
			}
			NOT = {
				is_in_faction_with = USA
			}
		}
	
		available = {
			has_war_with = ENG
			NOT = { is_in_faction_with = USA }
			USA = {
				OR = {
					
					is_in_faction_with = ENG
					
					focus_progress = {
						focus = USA_DOW_ger_focus
						progress > 0.3
					} 
					has_war_with = GER					
				}
			}
		}
	

		fire_only_once = yes
	
		ai_will_do = {
			factor = 20000
		}
		visible = {
			USA = {
				OR = {
					is_ai = yes 
					is_lend_leasing = yes
				}
				NOT = {
					is_in_faction_with = GER
				}
			}
			#NOT = {has_global_flag = { GER_USA_DOW }}
		}
		complete_effect = {
			GER = { declare_war_on = { target = USA type = annex_everything }}
			add_timed_idea = { idea = GER_happy_time days = 275 }
			news_event = news.800
			#set_global_flag = GER_USA_DOW
		}
	}
	
	GER_ALIGN_FIN = {
	
		icon = generic_operation
		allowed = {
			original_tag = GER
		}
		
		available = {
			has_completed_focus = GER_anti_comitern_pact
			NOT = { is_in_faction_with = FIN }	
			date > 1941.1.1
			any_country = {
				OR = {
					original_tag = GER 
					is_subject_of = GER
				}
				has_full_control_of_state = 144 #Narvik
			}
		}
		
		cost = 25
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 200
		}
		
		visible = {
			FIN = {
				NOT = {
					has_government = communism
					owns_state = 146
					has_war = yes					
				}
			}
			GER = {
				NOT = {
					is_in_faction_with = SOV
				}
			}
			SOV = {
				controls_state = 146
			}
		
		}
		
		complete_effect = {
		
			GER = {
					add_to_faction = FIN
			}
		
		}	
	}
	
	GER_drag_FIN = {
	
		icon = generic_operation
		allowed = {
			original_tag = GER
		}
		
		available = {
			has_completed_focus = GER_anti_comitern_pact
			is_in_faction_with = FIN 
			GER = {
				controls_state = 13 #Estonia
			}
		}
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 200
		}
		
		visible = {
			FIN = {
				NOT = {
					has_government = communism
					controls_state = 146				
				}
			}
			GER = {
				NOT = {
					is_in_faction_with = SOV
				}
			}
			SOV = {
				controls_state = 146
			}
		
		}
		
		complete_effect = {
		
			FIN = {
				declare_war_on = { target = SOV type = annex_everything }
			}
		
		}	
	}
	
	GER_DOW_YUG = {
	
		icon = generic_operation
		allowed = {
			original_tag = GER
		}
		
		available = {
			GER = { 
				has_war_with = GRE 
				NOT = {
					is_in_faction_with = YUG
					has_war_with = YUG
				}
			}
		}
		
		visible = {
			GER = { has_war_with = GRE }
			NOT = {
					is_in_faction_with = YUG
					has_war_with = YUG
			}
			YUG = {exists = yes }
		}
		
		complete_effect = {
		
			GER = {
				declare_war_on = { target = YUG type = annex_everything }
			}
		
		}
	}
	
	GER_reorganize_yugoslavia = {
		icon = generic_operation
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 0
			modifier = {
				factor = 0
				ITA = {
					is_ai = no
				}
			}
		}
		cost = 5
		
		allowed = {
			original_tag = GER
		}
		available = {
			OR = {
				AND = {
					GER = {
						has_war_with = YUG
					}
					YUG = {
						has_capitulated = yes
					}
				}
				YUG = {exists = no}
			}
			HUN = {
				exists = yes
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
			BUL = {
				exists = yes
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
			ITA = {
				exists = yes
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}
		
		visible = {
			GER = {
				OR = {
					has_war_with = YUG
					YUG = {exists = no}
				}
			}
		}
		complete_effect = {
			CRO = {
				transfer_state = 109
			}
			HUN = {
				transfer_state = 45
				transfer_state = 764
			}
			BUL = {
				transfer_state = 106
				transfer_state = 108
			}
			ITA = {
				transfer_state = 105
				transfer_state = 103
				transfer_state = 816
				transfer_state = 104
			}
		}
	}
	
	GER_reorganize_greece = {
		icon = generic_operation
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				ITA = {
					is_ai = no
				}
			}
		}
		cost = 5
		
		allowed = {
			original_tag = GER
		}
		available = {
			OR = {
				AND = {
					GER = {
						has_war_with = GRE
					}
					GRE = {
						has_capitulated = yes
					}
				}
				GRE = {exists = no}
			}
			BUL = {
				exists = yes
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
			ITA = {
				exists = yes
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}
		
		visible = {
			GER = {
				OR = {
					has_war_with = GRE
					GRE = {exists = no}
				}
			}
		}
		complete_effect = {
			
			
			BUL = {
				transfer_state = 731
				transfer_state = 184
			}
			ITA = {
				transfer_state = 185
				transfer_state = 186
				transfer_state = 187
				transfer_state = 47
			}
		}
	}
	
	GER_DOW_SOV = {
	
		icon = decision_generic_break_treaty
		allowed = {
			original_tag = GER
		}
		
		available = {
			SOV = {
				has_idea = sov_revanchism
			}
		}
		
		visible = {
			SOV = {
				has_idea = sov_revanchism
			}
		}
		
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 25
		}
		
		complete_effect = {
		
			GER = {
				create_wargoal = {
					type = puppet_wargoal_focus
					target = SOV
				}
			}
		
		}
	}
	
	GER_seize_tunisia = {
		allowed = {
			original_tag = GER
		}
		visible = {
			ITA = {
				is_in_faction_with = GER
				controls_state = 448
				controls_state = 115
				NOT = {
					controls_state = 665
					controls_state = 458
				}
			}
			FNA = {exists = yes}
		}
		available = {
			ITA = {
				is_in_faction_with = GER
				controls_state = 448
				controls_state = 115
				NOT = {
					controls_state = 665
					controls_state = 458
				}
			}
			FNA = {exists = yes}
		}
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 25
		}
		
		cost = 25
		complete_effect = {
			ITA = {
				transfer_state = 665
				transfer_state = 458
			}
		}		
	}
	
	GER_occupy_danemark = {
		allowed = {
			original_tag = GER
		}
		visible = {
			DEN = {
				is_subject_of = GER
			}
		}
		available = {
			date > 1943.9.1
			GER = {
				has_war_with = ENG
			}
		}
		
		fire_only_once = yes
	
		ai_will_do = {
			factor = 25
		}
		cost = 50
		
		complete_effect = {
			end_puppet = DEN
			DEN = {
				leave_faction = yes
				white_peace = ENG
				white_peace = USA
				white_peace = SOV
			}
			ENG = {
				add_to_faction = DEN
			}
			GER = {
				declare_war_on = {
					target = DEN
					type = annex_everything
				}
				set_state_controller = 37
				set_state_controller = 99
				transfer_state = 801
			}
		}
	}
	
	GER_puppet_italy = { #when in MP italy is an AI
		allowed = {
			original_tag = GER
		}
		
		visible = {
			ITA = {
				is_ai = yes
			}
			GER = {
				is_ai = no
				OR = {
					is_in_faction_with = ITA
					has_completed_focus = GER_italy_ally
				}
			}
		}
		
		available = {
			GER = {
				is_ai = no
				OR = {
					is_in_faction_with = ITA
					has_completed_focus = GER_italy_ally
				}
			}
			ITA = {
				is_ai = yes
			}
		}
		
		fire_only_once = yes
		
		ai_will_do = {
			factor = 0
		}
		
		complete_effect = {
			GER = {
				set_autonomy = {
					target = ITA
					autonomy_state = autonomy_satellite
				}
			}
		}
		
	}
	
	GER_condor_legion = {
	
		allowed = {
			original_tag = GER
		}
		
		visible = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			has_civil_war = no
			SPR = {
				has_civil_war = yes
			}
		}
		
		available = {
			SPR = {
				has_civil_war = yes
			}
			GER = {
				has_equipment = {
					tac_bomber_equipment_0 > 200
				}
				has_equipment = {
					fighter_equipment_0 > 200
				}
				has_manpower > 6000
			}
		}
		
		fire_only_once = yes		
		ai_will_do = {
			factor = 100
		}
		
		complete_effect = {
			GER = {
				set_country_flag = promised_help_nationalist_spain
				set_country_flag = gives_help_nationalist_spain
			}
			GER = {
				add_manpower = -6000
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment_0
					amount = -200
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = -200
					producer = GER
				}
			
			}
			random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				add_manpower = 6000
				add_equipment_to_stockpile = {
					type = tac_bomber_equipment_0
					amount = 200
					producer = GER
				}
				add_equipment_to_stockpile = {
					type = fighter_equipment_0
					amount = 200
					producer = GER
				}
			}
		}
	}
	
	GER_mission_to_japan = {
		allowed = {
			original_tag = GER
		}
		
		visible = {
			has_war = no
		}
		
		available = {
			has_completed_focus = GER_japan_friend
		}
		
		cost = 50
		fire_only_once = yes
		complete_effect = {
			custom_effect_tooltip = GER_mission_to_japan_tt
			
			JAP = {
				country_event = {
					id = germany.200
					days = 5
				}
			}
		}
		
	}
}

#Category only allowed for GER
GER_military_buildup = {

	GER_plan_z = {

		icon = generic_naval

		available = {
			has_navy_size = {
				unit = battleship
				size > 9
			}
			has_navy_size = {
				unit = battle_cruiser
				size > 2
			}
			has_navy_size = {
				unit = carrier
				size > 3
			}
			has_navy_size = {
				unit = heavy_cruiser
				size > 19
			}
			has_navy_size = {
				unit = light_cruiser
				size > 19
			}
			has_navy_size = {
				unit = destroyer
				size > 99
			}
		}

		fire_only_once = yes
		days_mission_timeout = 1800
		is_good = no
		activation = {
			has_completed_focus = GER_plan_z
		}

		
		visible = {
			has_completed_focus = GER_plan_z
		}

		complete_effect = {
			add_war_support = 0.05
			navy_experience = 150
		}

		
	}

	GER_jaegernotprogramm = {

		icon = generic_air

		available = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 1
		}

		visible = {
			has_war = yes
			AND = {
				has_deployed_air_force_size = {
					type = fighter
					size < 750
				}
				has_equipment = {
					fighter_equipment < 250
				}
			}
			NOT = {
				has_idea = GER_jaegernotprogramm
			}
		}

		complete_effect = {
			add_stability = -0.05
			add_war_support = -0.05
			add_timed_idea = { idea = GER_jaegernotprogramm days = 90 }
		}
	}
}

special_projects = {
	GER_dismantle_maginot = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 28
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				controls_state = 18
				controls_state = 29
			}
		}
		days_remove = 20
		modifier = {
			civilian_factory_use = 5
		}
		remove_effect = {
			28 = {
				set_building_level = {
					type = bunker
					level = 2
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 2
					}
				}
			}
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_extend_the_maginot_line }
				}
				18 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
				29 = {
					set_building_level = {
						type = bunker
						level = 2
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 2
						}
					}
				}
			}
		}
		complete_effect = {
			if = {
				limit = { FRA = { has_completed_focus = FRA_extend_the_maginot_line } }
				add_timed_idea = { idea = GER_dismantle_maginot days = 270 }
				else = {
					add_timed_idea = { idea = GER_dismantle_maginot days = 180 }
				}
			}
		}
	}
	GER_dismantle_czechoslovakian_forts = {

		icon = generic_construction

		available = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 74 # Eastern Sudetenland
			#controls_state = 9 # Bohemia
			#controls_state = 75 # Moravia
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		visible = {
			#has_war = yes
			controls_state = 69 # Sudetenland
			controls_state = 74 # Eastern Sudetenland
			#controls_state = 9 # Bohemia
			#controls_state = 75 # Moravia
		}
		days_remove = 20
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			69 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			74 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			9 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			75 = {
				set_building_level = {
					type = bunker
					level = 1
					province = {
						all_provinces = yes
						limit_to_border = no
						level > 1
					}
				}
			}
			if = {
				limit = {
					72 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					71 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				72 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				71 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					70 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				70 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
			if = {
				limit = {
					73 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
					664 = {
						controller = {
							OR = {
								tag = ROOT
								is_subject_of = ROOT
							}
						}
					}
				}
				73 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
				664 = {
					set_building_level = {
						type = bunker
						level = 1
						province = {
							all_provinces = yes
							limit_to_border = no
							level > 1
						}
					}
				}
			}
		}
		complete_effect = {
			add_timed_idea = { idea = GER_dismantle_czechoslovakian_forts days = 180 }
		}
	}
	
	GER_build_ostwall = {
		icon = generic_construction
		
		available = {
			any_country = {
				OR = {
					tag = GER
					is_in_faction_with = GER
				}
				OR = {
					has_full_control_of_state = 191
					has_full_control_of_state = 209
					has_full_control_of_state = 210
					has_full_control_of_state = 207
					has_full_control_of_state = 206
					has_full_control_of_state = 204
					has_full_control_of_state = 194
					has_full_control_of_state = 202
					has_full_control_of_state = 203
					has_full_control_of_state = 226
					has_full_control_of_state = 200
				}
			}
		}
		
		visible = {
			has_completed_focus = GER_ostwall
		}
		
		cost = 100

		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		
		days_remove = 45
		is_good = yes
		modifier = {
			civilian_factory_use = 25
		}
		
		remove_effect = {
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 191 
					}
				}
				hidden_effect = {
					191 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 4640
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 209
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 415
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3310
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 210 
					}
				}
				hidden_effect = {
					210 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 3333
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 11259
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 9386
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 207 
					}
				}
				hidden_effect = {
					207 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 323
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 7
							province = 11241
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 11220
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3331
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 206 
					}
				}
				hidden_effect = {
					209 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9289
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3378
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 204 
					}
				}
				hidden_effect = {
					204 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6373
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 194 
					}
				}
				hidden_effect = {
					194 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 6319
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 9249
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3507
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 202 
					}
				}
				hidden_effect = {
					202 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9568
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3543
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 8
							province = 525
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3494
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 203 
					}
				}
				hidden_effect = {
					203 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 11454
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 488
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 3468
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 6478
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 226 
					}
				}
				hidden_effect = {
					226 = {
						add_building_construction = {
							type = bunker
							level = 4
							province = 9433
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 7
							province = 11437
							instant_build = yes
						}
					}
				}
			}
			if = {
				limit = { 
					any_country = {
						OR = {
							tag = GER
							is_in_faction_with = GER
						}
						has_full_control_of_state = 200 
					}
				}
				hidden_effect = {
					200 = {
						add_building_construction = {
							type = bunker
							level = 5
							province = 11405
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 6596
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 4
							province = 11700
							instant_build = yes
						}
					}
				}
			}
		}
		
	}
}

GER_aid_hun_rom_democratic_civil_war = {

	GER_aid_hun_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			HUN = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
	
				any_enemy_country = {
					original_tag = HUN
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_hungary
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					HUN = { is_in_faction_with = GER }
				}
				remove_from_faction = HUN
				random_country = {
					limit = {
						original_tag = HUN
						has_government = democratic
						has_war_with = HUN
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = HUN
					has_government = democratic
					has_war_with = HUN
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = HUN hostility_reason = asked_to_join } }
			}
		}
	}

	GER_aid_rom_democratic_civil_war = {

		icon = generic_prepare_civil_war

		available = {
			ROM = {
				NOT = { has_government = democratic }
				NOT = { has_war_with = GER }
				has_civil_war = yes
				exists = yes
	
				any_enemy_country = {
					original_tag = ROM
					has_government = democratic
				}
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		#Available if democratic civil war
		visible = {
			has_completed_focus = GER_align_romania
			GER = { has_government = democratic }
		}

		complete_effect = {
			if = {
				limit = {
					ROM = { is_in_faction_with = GER }
				}
				remove_from_faction = ROM
				random_country = {
					limit = {
						original_tag = ROM
						has_government = democratic
						has_war_with = ROM
					}
					GER = { add_to_faction = PREV }
				}
			}
			random_country = {
				limit = {
					original_tag = ROM
					has_government = democratic
					has_war_with = ROM
				}
				GER = { add_to_war = { targeted_alliance = PREV enemy = ROM hostility_reason = asked_to_join } }
			}
		}
	}

}

GER_austro_hungarian_empire = {

	GER_reform_austro_hungarian_empire = {

		allowed = {
			OR = {
				original_tag = AUS
				original_tag = HUN
				original_tag = CZE
			}
		}

		available = {
			AUS = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			HUN = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
			CZE = {
				OR = {
					has_government = neutrality
					neutrality > 0.4
				}
			}
		}

		visible = {
			GER = { 
				has_completed_focus = GER_rekindle_imperial_sentiment 
				has_government = neutrality
			}
			AUS = {
					  
				exists = yes
			}
			HUN = {
					  
				exists = yes
			}
			CZE = {
					  
				exists = yes
			}
			NOT = { has_global_flag = GER_reformed_austro_hungarian_empire }
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				tag = HUN
			}
			modifier = {
				factor = 0
				tag = CZE
			}
		}

		complete_effect = {
			custom_effect_tooltip = GER_reform_austro_hungarian_empire_tt
			hidden_effect = { set_global_flag = GER_reformed_austro_hungarian_empire }
			if = {
				limit = {
					tag = AUS
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = HUN
				}
				AUS = { country_event = { id = wtt_germany.68 hours = 1 } }
				CZE = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
			if = {
				limit = {
					tag = CZE
				}
				HUN = { country_event = { id = wtt_germany.68 hours = 1 } }
				AUS = { country_event = { id = wtt_germany.68 hours = 3 } }
			}
		}
	}
}