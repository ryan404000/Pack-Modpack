###########################
# French Events
###########################

add_namespace = france

# Japan demands Indochina
country_event = {
	id = france.1
	title = france.1.t
	desc = france.1.d
	picture = GFX_report_event_japan_army_mountainside
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = france.1.a
		ai_chance = {
			factor = 25 
			modifier = {
				factor = 50
				has_war = yes
				any_enemy_country = {
					strength_ratio = { 
						tag = ROOT 
						ratio < 0.4
					}
				}
			}
			modifier = {
				factor = 75
				16 = { NOT = { is_controlled_by = FRA } } #Paris	
			}
		} 
		JAP = {
			country_event = { days = 5 id = japan.6 }
		}
	}
	option = { # Refuse
		name = france.1.b
		ai_chance = { 
			factor = 5 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		JAP = {
			country_event = { days = 5 id = japan.7 }
		}
	}
}

# Maginot Line Extension
country_event = {
	id = france.2
	title = france.2.t
	desc = france.2.d
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = france.2.a
		18 = {
			add_building_construction = {
				type = bunker
				province = 5291
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3560
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9472
				level = 2
				instant_build = yes
			}
		}
		29 = {
			
			add_building_construction = {
				type = bunker
				province = 11606
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11483
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 575
				level = 2
				instant_build = yes
			}
		}
		
		785 = {
			add_building_construction = {
				type = bunker
				province = 3447
				level = 2
				instant_build = yes
			}
		}
	}
}

# Alpine Line Extension
country_event = {
	id = france.3
	title = france.3.t
	desc = france.3.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes
	
	option = {
		name = france.3.a
		735 = {
			add_building_construction = {
				type = bunker
				province = 764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9909
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3959
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 6975
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9745
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 778
				level = 2
				instant_build = yes
			}
		}
	}
}

### The Fall of France

# The Battle is Lost
country_event = {
	id = france.10
	title = france.10.t
	desc = france.10.d
	picture = GFX_report_event_german_parade_paris
	
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		has_war_with = GER
		VIC = { exists = no }			   
		16 = { is_controlled_by = GER }
		is_in_faction_with = ENG
		ENG = { has_war_with = GER }
		OR = {
			surrender_progress > 0.7
			has_capitulated = yes
		}
		GER = {
			OR = {
				is_faction_leader = yes
				has_government = neutrality
			}
		}
		has_civil_war = no
		
		
		
	}
	

	immediate = {
		set_global_flag = achievement_france_surrender
	}
	
	option = { # Become Vichy
		name = france.10.a
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		set_global_flag = fall_of_france
		GER = { country_event = {id = france.14 days = 1 }}
		hidden_effect = {	
			USA = {												
				if = {
					limit = {
						USA = { is_ai = yes }
						NOT = {
								has_idea = limited_conscription
								has_idea = extensive_conscription
								has_idea = service_by_requirement
								has_idea = all_adults_serve
								has_idea = scraping_the_barrel											
						}
					}
						add_ideas = limited_conscription
				}			
			}
		}												  			  						   			 																														  												  	   	  										   												  			  						   			 									   										 										 								   												 	   	  									  			   
		custom_effect_tooltip = france.10.a_tt
		GER = { country_event = {id = france.14 days = 1} }
		# Switches to Vichy if GER accepts
	}
	option = { # Become Free French
		name = france.10.b
		ai_chance = {
			factor = 85
		modifier = {
				factor = 100
				is_historical_focus_on = yes
			}			
		}		
		hidden_effect = {	
			USA = {												
				if = {
					limit = {
						USA = { is_ai = yes }
						NOT = {
								has_idea = limited_conscription
								has_idea = extensive_conscription
								has_idea = service_by_requirement
								has_idea = all_adults_serve
								has_idea = scraping_the_barrel											
						}
					}
						add_ideas = limited_conscription
				}			
			}
		}															   	 														  			  						   			 																														  												  	   	  										   												  			  						   			 									   										 										 								   												 	   	  									  				 
		set_global_flag = fall_of_france
		GER = { country_event = {id = france.14 days = 1}}
		custom_effect_tooltip = france.10.b_tt
	}
	option = { # Ask for British Union
		name = france.10.c
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ENG = {
			country_event = {id = france.11 days = 1 }
			effect_tooltip = {
				annex_country = { target = FRA transfer_troops = yes }
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
}

# France suggests a Union (Britain)
country_event = {
	id = france.11
	title = france.11.t
	desc = france.11.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = { # Refuse Union
		name = france.11.a
		ai_chance = {
			factor = 10
		}
		FRA = {
			country_event = { hours = 6 id = france.13 }
		}
	}
	option = { # Agree to Union
		name = france.11.b
		ai_chance = {
			factor = 90
		}
		FRA = {
			country_event = { hours = 6 id = france.12 }
		}
	}
}

# Britain agrees to Union (France)
country_event = {
	id = france.12
	title = france.12.t
	desc = france.12.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = france.12.a
		# Franco-British Union created
		set_global_flag = fall_of_france
		set_global_flag = flag_franco_british_union
		hidden_effect = {
			every_state = {
				limit = {
					is_core_of = FRA
				}
				ENG = {
					add_state_core = PREV
				}
			}
		}
		FRA = {
			every_unit_leader = {
				set_unit_leader_flag = flag_former_french_general
				set_nationality = ENG
			}
		}
		ENG = {
			annex_country = { target = FRA transfer_troops = yes }
		}
		custom_effect_tooltip = FRA_franco_british_cores
		hidden_effect = {
			ENG = { set_cosmetic_tag = FRA_UK }
			GER = { 
				country_event = { hours = 6 id = news.35 }
			}
		}
	}
}

# Britain refuses Union (France)
country_event = {
	id = france.13
	title = france.13.t
	desc = france.13.d
	picture = GFX_report_event_pierre_laval
	
	is_triggered_only = yes
	
	option = { # Become Vichy
		name = france.13.a
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		set_global_flag = fall_of_france
		GER = { country_event = {id = france.14 days = 1}}
		custom_effect_tooltip = france.10.a_tt
		# Switches to Vichy if GER accepts
	}
	option = { # Become Free France
		name = france.13.b
		GER = { country_event = {id = france.14 days = 1}}
		custom_effect_tooltip = france.10.b_tt
		set_global_flag = fall_of_france
	}
}

# France wants Armistice (Germany)
country_event = {
	id = france.14
	title = france.14.t
	desc = france.14.d
	picture = GFX_report_event_german_parade_paris
	
	is_triggered_only = yes
	
	option = { # Agree
		name = france.14.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 100
				is_historical_focus_on = yes
			}			
		}
		add_stability = 0.10
		add_war_support = 0.10
		add_political_power = 100
		add_ideas = {
			GER_sieg_im_westen
		}
		FRA = {
			set_cosmetic_tag = FRA_FREE
		}
		FRA = {	
			add_stability = -0.50
			remove_unit_leader = 1703			 
			remove_unit_leader = 1704
			remove_unit_leader = 1705
			remove_unit_leader = 1706
			remove_unit_leader = 1707
			remove_unit_leader = 1708
			remove_unit_leader = 1709
			remove_unit_leader = 1710
			#remove_unit_leader = 1711
			remove_ideas = {
				francois_darlan
			}
			
		}
		VIC = { 
			transfer_state = 26
			set_capital = 26
			inherit_technology = FRA
			add_ideas = {
				neutrality_idea
			}
		}
		every_state = {
			limit = {
				is_core_of = FRA				
			}
			add_core_of = VIC
		}
		
		# Italian Occupation Zone (if they did well)
		if = {
			limit = {
				1 = { #Corsica
					is_owned_by = FRA 
					is_controlled_by = ITA
				}
			}
			ITA = { transfer_state = 1 }
		}
		if = {
			limit = {					
				AND = {
					735 = { #Savoy
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
					21 = { #provence
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
					32 = { #Alpes
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
				}
			}
			ITA = { 
				transfer_state = 735 
				transfer_state = 798
				}
		}
		#Spanish occupation zone
		if = {
			limit = {
				31 = { #Midi-Pyrinees
					is_owned_by = FRA 
					is_controlled_by = SPR
				}
			}
			SPR = {
				transfer_state = 31
			}
		}
		# FRA Player Switches to Vichy
		if = {
			limit = { FRA = { has_country_flag = become_vichy } }
			change_tag_from = FRA
			save_event_target_as = VIC
		}
		IDC = {
			transfer_state = 728
			transfer_state = 671
			transfer_state = 670
			transfer_state = 741
			transfer_state = 286
			set_capital = 286
			set_politics = {			
				ruling_party = neutrality
			}
			set_popularities = {
				neutrality = 100
			}
			create_country_leader = {
				name = "Jean Decoux"
				desc = ""
				picture = "GFX_IDC_Jean_Decoux"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					
				}
			}
		}
		MAD = {
			transfer_state = 543
			transfer_state = 708
			transfer_state = 706
			set_capital = 543
		}
		
		SYR = {
			transfer_state = 677
			transfer_state = 680
			transfer_state = 554
		}
		
		LEB = { 
			transfer_state = 553
		}
		
		VIC = {
			#release = FRA
					create_country_leader = {
						name = "Philippe Pétain"
						desc = "POLITICS_PHILIPPE_PÉTAIN_DESC"
						picture = "Portrait_Vichy_Philippe_Petain.dds"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							anti_communist
							fascist_sympathies
							popular_figurehead
						}
					}
					add_political_power = -500
					add_stability = -0.50
					add_war_support = -0.50
					add_ideas = {
						VIC_recovering_from_war
					}
					add_ideas = {
						isolation
						disarmed_nation
					}
					set_politics = {
						ruling_party = neutrality
					}
					set_popularities = {
						democratic = 25
						fascism = 15
						communism = 25
						neutrality = 35
					}
					if = { 
						limit = { 1 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 1 
					}   # Corse 
					transfer_state = 20  # Franche-comté
					add_state_core = 20
					transfer_state = 21  # Côte d'Azur
					add_state_core = 21
					transfer_state = 22  # Roussillon
					add_state_core = 22
					transfer_state = 25  # Limousin
					add_state_core = 25
					transfer_state = 26  # Auvergne
					add_state_core = 26
					add_state_core = 1
					add_state_core = 31
					add_state_core = 735
					add_state_core = 798
					add_state_core = 33
					if = { 
						limit = { 31 = { NOT = { is_owned_by = SPR } } }
							transfer_state = 31 
					} # Midi-Pyrénnées				 					 
					if = { 
						limit = { 735 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 735 
					} # Savoy
					if = {
						limit = { 798 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 798 
					} # Nice
					transfer_state = 33  # Centre Sud
					transfer_state = 268 # Djibouti
					transfer_state = 272 # French Africa
					#transfer_state = 286 # Indochina
					transfer_state = 310 # Guinée
					transfer_state = 320 # French India
					transfer_state = 458 # Tunisia
					transfer_state = 459 # western Algeria
					transfer_state = 460 # eastern Algeria
					transfer_state = 461 # Northern Morocco
					transfer_state = 462 # Southern Morocco
					transfer_state = 513 # Southern Algeria
					transfer_state = 514 # North Africa
					transfer_state = 515 # Central Africa
					transfer_state = 539 # Gabon
					#transfer_state = 543 # Madagascar				
					transfer_state = 556 # Ivory Coast
					transfer_state = 557 # Dakar
					transfer_state = 635 # Nouvelle Calédonie
					transfer_state = 641 # Tahiti
					transfer_state = 660 # Equatorial Africa
					transfer_state = 774 
					transfer_state = 665 # Gabes
					#transfer_state = 670 # Laos
					#transfer_state = 671 # Annam
					transfer_state = 694 # French Caribbean
					#transfer_state = 706 # Reunion
					#transfer_state = 708 # Comoro Islands
					transfer_state = 713 # Kerguelen
					#transfer_state = 728 # Guangzhouwan
					transfer_state = 730 # St Pierre et Miquelon
					transfer_state = 734 # Nendo
					transfer_state = 32  # Alpes	
					transfer_state = 786
					transfer_state = 782
					transfer_state = 775 # desert
					transfer_state = 780
					transfer_state = 779
					transfer_state = 778
					transfer_state = 781
					transfer_state = 776
					transfer_state = 777
			every_owned_state = {
				limit = {
					is_core_of = VIC
				}
				add_core_of = FRA
			}
			release = SYR
			release = LEB
			if = {
				limit = { has_dlc = "Together for Victory" }
				
				set_autonomy = { 
					target = SYR 
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				set_autonomy = { 
					target = LEB 
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}	
				set_autonomy = { 
					target = IDC
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				set_autonomy = { 
					target = MAD
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				else = {
					puppet = IDC
					puppet = MAD
					puppet = SYR
					puppet = LEB
					give_military_access = SYR
					give_military_access = LEB		
				}
			}
				add_ai_strategy = {							
					type = alliance
					id = "GER"
					value = -300
				}
				add_ai_strategy = {							
					type = befriend
					id = "GER"
					value = 300
				}														
			
		}
		FRA = { transfer_navy = { target = VIC } }
		#GER = { release = VIC }		
		set_global_flag = vichy_established									
		GER = {	give_guarantee = VIC }			
		news_event = { hours = 6 id = news.34 }	
		country_event = { hours = 6 id = france.20 }

	}

	option = { # Agree - Neutrality
		name = france.14.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_government = neutrality
		}
		#Set same cosmetic tag they would get on capitulation
		FRA = {
			set_cosmetic_tag = FRA_FREE
		}
		add_stability = 0.10
		add_political_power = 100
		add_ideas = {
			GER_sieg_im_westen
		}
		FRA = {	
			add_stability = -0.50
			remove_unit_leader = 1703			 
			remove_unit_leader = 1704
			remove_unit_leader = 1705
			remove_unit_leader = 1706
			remove_unit_leader = 1707
			remove_unit_leader = 1708
			remove_unit_leader = 1709
			remove_unit_leader = 1710
			#remove_unit_leader = 1711
			remove_ideas = {
				francois_darlan
			}
			
		}
		VIC = { 
			transfer_state = 26
			set_capital = 26
			inherit_technology = FRA
			add_ideas = {
				neutrality_idea
			}
		}
		every_state = {
			limit = {
				is_core_of = FRA				
			}
			add_core_of = VIC
		}
		
		# Italian Occupation Zone (if they did well)
		if = {
			limit = {
				1 = { #Corsica
					is_owned_by = FRA 
					is_controlled_by = ITA
				}
			}
			ITA = { transfer_state = 1 }
		}
		if = {
			limit = {					
				AND = {
					735 = { #Savoy
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
					21 = { #provence
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
					32 = { #Alpes
						is_owned_by = FRA 
						is_controlled_by = ITA
					}
				}
			}
			ITA = { 
				transfer_state = 735 
				transfer_state = 798
				}
		}
		#Spanish occupation zone
		if = {
			limit = {
				31 = { #Midi-Pyrinees
					is_owned_by = FRA 
					is_controlled_by = SPR
				}
			}
			SPR = {
				transfer_state = 31
			}
		}
		# FRA Player Switches to Vichy
		if = {
			limit = { FRA = { has_country_flag = become_vichy } }
			change_tag_from = FRA
			save_event_target_as = VIC
		}
		IDC = {
			transfer_state = 728
			transfer_state = 671
			transfer_state = 670
			transfer_state = 741
			transfer_state = 286
			set_capital = 286
			set_politics = {		
				ruling_party = neutrality
			}
			set_popularities = {
				neutrality = 100
			}
			create_country_leader = {
				name = "Jean Decoux"
				desc = ""
				picture = "GFX_IDC_Jean_Decoux"
				expire = "1965.1.1"
				ideology = despotism
				traits = {
					
				}
			}
		}
		MAD = {
			transfer_state = 543
			transfer_state = 708
			transfer_state = 706
			set_capital = 543
		}
		
		SYR = {
			transfer_state = 677
			transfer_state = 680
			transfer_state = 554
		}
		
		LEB = { 
			transfer_state = 553
		}
		
		VIC = {
			#release = FRA
					create_country_leader = {
						name = "Philippe Pétain"
						desc = "POLITICS_PHILIPPE_PÉTAIN_DESC"
						picture = "Portrait_Vichy_Philippe_Petain.dds"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							anti_communist
							fascist_sympathies
							popular_figurehead
						}
					}
					add_political_power = -500
					add_stability = -0.50
					add_war_support = -0.50
					add_ideas = {
						VIC_recovering_from_war
					}
					add_ideas = {
						isolation
						disarmed_nation
					}
					set_politics = {
						ruling_party = neutrality
					}
					set_popularities = {
						democratic = 25
						fascism = 15
						communism = 25
						neutrality = 35
					}
					if = { 
						limit = { 1 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 1 
					}   # Corse 
					transfer_state = 20  # Franche-comté
					add_state_core = 20
					transfer_state = 21  # Côte d'Azur
					add_state_core = 21
					transfer_state = 22  # Roussillon
					add_state_core = 22
					transfer_state = 25  # Limousin
					add_state_core = 25
					transfer_state = 26  # Auvergne
					add_state_core = 26
					add_state_core = 1
					add_state_core = 31
					add_state_core = 735
					add_state_core = 798
					add_state_core = 33
					if = { 
						limit = { 31 = { NOT = { is_owned_by = SPR } } }
							transfer_state = 31 
					} # Midi-Pyrénnées				 					 
					if = { 
						limit = { 735 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 735 
					} # Savoy
					if = {
						limit = { 798 = { NOT = { is_owned_by = ITA } } }
							transfer_state = 798
					} # Nice
					transfer_state = 33  # Centre Sud
					transfer_state = 268 # Djibouti
					transfer_state = 272 # French Africa
					#transfer_state = 286 # Indochina
					transfer_state = 310 # Guinée
					transfer_state = 320 # French India
					transfer_state = 458 # Tunisia
					transfer_state = 459 # western Algeria
					transfer_state = 460 # eastern Algeria
					transfer_state = 461 # Northern Morocco
					transfer_state = 462 # Southern Morocco
					transfer_state = 513 # Southern Algeria
					transfer_state = 514 # North Africa
					transfer_state = 515 # Central Africa
					#transfer_state = 539 # Gabon
					#transfer_state = 543 # Madagascar				
					transfer_state = 556 # Ivory Coast
					transfer_state = 557 # Dakar
					transfer_state = 635 # Nouvelle Calédonie
					transfer_state = 641 # Tahiti
					transfer_state = 660 # Equatorial Africa
					transfer_state = 665 # Gabes
					#transfer_state = 670 # Laos
					#transfer_state = 671 # Annam
					transfer_state = 694 # French Caribbean
					#transfer_state = 706 # Reunion
					#transfer_state = 708 # Comoro Islands
					transfer_state = 713 # Kerguelen
					#transfer_state = 728 # Guangzhouwan
					transfer_state = 730 # St Pierre et Miquelon
					transfer_state = 734 # Nendo
					transfer_state = 32  # Alpes	
					transfer_state = 786
					transfer_state = 782
					transfer_state = 775 # desert
					transfer_state = 780
					transfer_state = 779
					transfer_state = 778
					transfer_state = 781
					transfer_state = 776
					transfer_state = 777
			every_owned_state = {
				limit = {
					is_core_of = VIC
				}
				add_core_of = FRA
			}
			release = SYR
			release = LEB
			if = {
				limit = { has_dlc = "Together for Victory" }
				
				set_autonomy = { 
					target = SYR 
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				set_autonomy = { 
					target = LEB 
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}	
				set_autonomy = { 
					target = IDC
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				set_autonomy = { 
					target = MAD
					autonomy_state = autonomy_puppet
					freedom_level = 0.30		
				}
				else = {
					puppet = IDC
					puppet = MAD
					puppet = SYR
					puppet = LEB
					give_military_access = SYR
					give_military_access = LEB		
				}
			}
			add_ai_strategy = {							
				type = alliance
				id = "GER"
				value = -300
			}
			add_ai_strategy = {							
				type = befriend
				id = "GER"
				value = 300
			}														
			puppet = IDC			
		}
		FRA = { transfer_navy = { target = VIC } }
		#GER = { release = VIC }		
		set_global_flag = vichy_established									
		GER = {	give_guarantee = VIC }			
		news_event = { hours = 6 id = news.34 }	
		country_event = { hours = 6 id = france.20 }
	}

	option = { # Conquer everything!
		name = france.14.b
		ai_chance = { 
			factor = 50 
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
		FRA = {
			country_event = { hours = 6 id = france.15 }
		}
		add_ideas = {
			GER_sieg_im_westen
		}
	}
}

# Germany refuses armistice! (France)
country_event = {
	id = france.15
	title = france.15.t
	desc = france.15.d
	picture = GFX_report_event_french_resistance_01
	
	is_triggered_only = yes
	
	option = {
		name = france.15.a
		if = {
			limit = { has_idea = FRA_victors_of_wwi }
			remove_ideas = FRA_victors_of_wwi
		}
		if = {
			limit = { has_idea = FRA_disjointed_government }
			remove_ideas = FRA_disjointed_government
		}
		if = {
			limit = { has_idea = FRA_protected_by_the_maginot_line }
			remove_ideas = FRA_protected_by_the_maginot_line
		}		
		hidden_effect = {
			USA = {												
				if = {
					limit = {
						USA = { is_ai = yes }
						NOT = {
								has_idea = partial_economic_mobilisation
								has_idea = war_economy
								has_idea = tot_economic_mobilisation						
						}
					}
						add_ideas = partial_economic_mobilisation
				}			
			}
			USA = {												
				if = {
					limit = {
						USA = { is_ai = yes }
						NOT = {
								has_idea = limited_conscription
								has_idea = extensive_conscription
								has_idea = service_by_requirement
								has_idea = all_adults_serve
								has_idea = scraping_the_barrel											
						}
					}
						add_ideas = limited_conscription
				}			
			}
		}
	}
}

#Capital captured by non french faction
country_event = {
	id = france.16
	title = france.16.t
	desc = france.16.d
	picture = GFX_report_event_french_resistance_02

	fire_only_once = yes

	trigger = {
		original_tag = FRA
		16 = { controller = { NOT = { original_tag = FRA } } }
		has_capitulated = yes
		#16 = { is_owned_by = FRA }
	}
	
	mean_time_to_happen = {
		days = 4
	}

	option = {
		name = france.16.a
		remove_ideas = FRA_victors_of_wwi
		remove_ideas = FRA_disjointed_government
		remove_ideas = FRA_protected_by_the_maginot_line
	}
}

# Invitation to French Faction
country_event = {
	id = france.17
	title = france.17.t
	desc = france.17.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = france.17.a
		ai_chance = { factor = 90 }
		FRA = {
			country_event = france.18
			add_to_faction = ROOT
		}
		add_ai_strategy = {
			type = alliance
			id = "FRA"
			value = 200
		}
	}

	option = {
		name = france.17.b
		ai_chance = { factor = 10 }
		FRA = { country_event = france.19 }
	}
}

# [Country] Accepts
country_event = {
	id = france.18
	title = france.18.t
	desc = france.18.d
	picture = GFX_report_event_soldiers_in_france
	
	is_triggered_only = yes
	
	option = {
		name = france.18.a
		effect_tooltip = {
			add_to_faction = FROM
		}
	}
}

# [Country] Refuses
country_event = {
	id = france.19
	title = france.19.t
	desc = france.19.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = france.19.a
	}
}

# De Gaulle becomes leader
country_event = {
	id = france.20
	title = france.20.t
	desc = france.20.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	immediate = {
		# German Occupation Zone		
		if = {
			limit = { 28 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 28 } # Alsace

		}
		if = {
			limit = { 17 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 17 } # Lorraine

		}
		if = {
			limit = { 27 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 27 }  # Champagne2

		}
		if = {
			limit = { 18 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 18 } # Champagne

		}
		if = {
			limit = { 29 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 29 }	# Pas de Calais

		}
		if = {
			limit = { 15 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 15 }  # Normandy

		}
		if = {
			limit = { 16 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 16 }

		}
		if = {
			limit = { 24 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 24 }

		}
		if = {
			limit = { 30 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 30 }

		}
		if = {
			limit = { 14 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 14 }

		}
		if = {
			limit = { 23 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 23 }

		}
		if = {
			limit = { 19 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 19 }

		}	
		if = {
			limit = { 785 = { owner = { original_tag = VIC } } }
			GER = { transfer_state = 785 }

		}	
	}

	
	option = {
		custom_effect_tooltip = france.20.a_tt
		set_country_flag = france_de_gaulle
		name = france.20.a
		hidden_effect =  {
	
			FRA = {												
				transfer_state = 539
				set_state_controller = 539  # Gabon
				#set_capital = 539
				retire_country_leader = yes
				set_country_flag = reynaud_resign
				create_country_leader = {
				name = "Charles de Gaulle"
				desc = "POLITICS_CHARLES_DE_GAULLE_DESC"
				picture = "Portrait_France_Charles_De_Gaulle.dds"
				expire = "1965.1.1"
				ideology = conservatism
				traits = {
					indomitable_perseverance
					tenacious_defender
					political_dancer
					}
				}
				add_popularity = {
					ideology = fascism
					popularity = -1
				}
				add_popularity = {
					ideology = democratic
					popularity = 1
				}			
				hidden_effect = {
					set_stability = 0.5
				}
				load_focus_tree = free_france_focus
			}
			#GER = {declare_war_on = { target = FRA type = annex_everything }}
			#add_threat = -3
			
			if = {
				limit = {
					VIC = { 
						NOT = {
							has_idea = undisturbed_isolation
							has_idea = isolation						
						}
					}
				}
				VIC = { 
					add_ideas = isolation
					add_political_power = -500
				}
			}			
			if = {
				limit = {
					VIC = { 
						NOT = {
							has_idea = disarmed_nation
							has_idea = volunteer_only											
						}
					}
				}
				VIC = { 
					add_ideas = disarmed_nation					
				}
			}
			#FRA = { set_state_owner = 28}
			GER = { set_state_controller = 28}
			#FRA = { set_state_owner = 17}
			GER = { set_state_controller = 17}
			#FRA = { set_state_owner = 27}
			GER = { set_state_controller = 27}
			#FRA = { set_state_owner = 18}
			GER = { set_state_controller = 18}
			#FRA = { set_state_owner = 29}
			GER = { set_state_controller = 29}
			#FRA = { set_state_owner = 15}
			GER = { set_state_controller = 15}
			#FRA = { set_state_owner = 16}
			GER = { set_state_controller = 16}
			#FRA = { set_state_owner = 24}
			GER = { set_state_controller = 24}
			#FRA = { set_state_owner = 30}
			GER = { set_state_controller = 30}
			#FRA = { set_state_owner = 14}
			GER = { set_state_controller = 14}
			#FRA = { set_state_owner = 23}
			GER = { set_state_controller = 23}
			#FRA = { set_state_owner = 19}
			GER = { set_state_controller = 19}
			#FRA = { set_state_owner = 785}
			GER = { set_state_controller = 785}
			
		}	
			#hidden_effect = { FRA = {country_event = { hours = 24 id = france.241 } } }
			
	}
}
country_event = {
	id = france.241
	title = france.241.t
	desc = france.241.d
	picture = GFX_report_event_degaulle_churchill
	hidden = yes
	fire_only_once = yes
	trigger = {
		GER = {
			controls_state = 539
			NOT = {
				owns_state = 539
			}
		}
	}
	
	option = {
		FRA = {
			set_state_controller = 539
		}
		IF = {
			limit = {
				GER = {
					controls_state = 295
					NOT = {
						owns_state = 295
					}
				}
			}
			BEL = {
				set_state_controller = 295
				set_state_controller = 538
				set_state_controller = 718
				set_state_controller = 768
				set_state_controller = 769
			}
		}
	}
}
#country_event = {
#	id = france.241
#	title = france.241.t
#	desc = france.241.d
#	picture = GFX_report_event_degaulle_churchill
#	hidden = yes
#	is_triggered_only = yes
	
	
#	option = {
#		name = france.241.a
#		
#		ENG = {
#		puppet = FRA
#			set_autonomy = { target = FRA autonomy_state = autonomy_puppet }
#			#set_state_controller = 539
#		}
#		FRA = {
#			set_state_controller = 539
#		}
#		#hidden_effect = { FRA = {country_event = { hours = 24 id = france.242 } } }
#	}
#	
#}

# Free French Territories establishment # desactivated, replaced by NF
#country_event = {
#	id = france.141
#	title = france.141.t
#	desc = france.141.d
#	picture = GFX_report_event_degaulle_churchill
#	
#	trigger = {
#		OR = {	
#			original_tag = FRA
#			tag = FRA
#		}
#		has_global_flag = vichy_established
#		ENG = { exists = yes }
#		ENG = { has_war_with = GER }
#		is_in_faction_with = ENG
#	}
	
#	fire_only_once = yes
	
#	mean_time_to_happen = {
#			days = 25	
#	}

	
#	option = { 
#		name = france.141.a		
#		random_country = {
#			limit = {
#				original_tag = FRA
#				has_government = democratic
#			}
#			set_capital = 539  # Gabon
#			
#			remove_ideas = FRA_victors_of_wwi
#			remove_ideas = FRA_disjointed_government
#			remove_ideas = FRA_protected_by_the_maginot_line			
#			hidden_effect = {
#					if = {
#						limit = {
#							539 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 539  # Gabon
#					}
#					if = {
#						limit = {
#							539 = {
#								controller = { tag = ENG }
#							}
#						}
#						set_state_controller = 539  # Gabon
#					}
#					if = {
#						limit = {
#							320 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 320  # French India
#					}
#					if = {
#						limit = {
#							635 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 635 # Nouvelle Calédonie
#					}
#					if = {
#						limit = {
#							734 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 734 # Nendo
#					}
#					if = {
#						limit = {
#							641 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 641 # Tahiti
#					}
#					if = {
#						limit = {
#							660 = {
#								owner = { tag = VIC }
#							}
#						}
#						transfer_state = 660 # Equatorial Africa
#					}
#			}
#		}
#		
#		hidden_effect = { FRA = {country_event = { hours = 24 id = france.242 } } }
#	}
#}

#country_event = {
#	id = france.242
#	title = france.242.t
#	desc = france.242.d
#	picture = GFX_report_event_degaulle_churchill
#	hidden = yes
#	is_triggered_only = yes
	
	
#	option = {
#		name = france.242.a
		
		
#		FRA = {
#			retire_country_leader = yes
#			set_country_flag = reynaud_resign
#			create_country_leader = {
#			name = "Charles de Gaulle"
#			desc = "POLITICS_CHARLES_DE_GAULLE_DESC"
#			picture = "Portrait_France_Charles_De_Gaulle.dds"
#			expire = "1970.1.1"
#			ideology = conservatism
#			traits = {
#				indomitable_perseverance
#				tenacious_defender
#				political_dancer
#				}
#			}
#		}
#	}
#	
#}

#country_event = {  #colonies rally the Free France
#	id = france.243
#	title = france.243.t
#	desc = france.243.desc
#	picture = GFX_report_event_degaulle_churchill
	
#	trigger = {
#		original_tag = FRA
#		VIC = {exists = yes}
#		FRA = { has_capitulated = yes }
#		date > 1941.12.1
#		ENG = {controls_state = 446} #Check if the allies still control Suez
#	}
	
#	hidden = yes
#	fire_only_once = yes
	
#	mean_time_to_happen = {
#		months = 3
#	}
	
#	option = {
#		name = france.243.a
#		random_country = {
#			limit = {
#				original_tag = FRA
#				has_government = democratic
#			}
#			
#			if = {
#				limit = {
#					310 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 310 # Guyana
#			}
#			if = {
#				limit = {
#					694 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 694 # Caribbean
#			}
#			if = {
#				limit = {
#					730 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 730 # Saint Pierre & Miquelon
#			}
#			if = {
#				limit = {
#					713 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 713 # kerguelen
#			}
#			if = {
#				limit = {
#					553 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 553 # liban
#				transfer_state = 554 # damascus
#				transfer_state = 677 # Alepo
#				transfer_state = 680 # Deir el Zor 
#			}
#			if = {
#				limit = {
#					268 = {
#					owner = { tag = VIC }
#					}
#				}
#				transfer_state = 268 # Djibouti
#			}
#		
#		}
#	}
	
	
#}

# French strikes
country_event = {
	id = france.21
	title = france.21.t
	desc = france.21.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		NOT = { has_government = communism }
		tag = FRA
		date > 1936.4.1
		date < 1938.1.1
	}

	fire_only_once = yes
	
	mean_time_to_happen = {	days = 60	}

	option = {
		ai_chance = {
			base = 15
		}
		name = france.21.a
		add_timed_idea = {
			idea = FRA_factory_strikes
			days = 90
		}
		add_stability = -0.2
		set_country_flag = france.21.a_chosen
	}
	option = {
		ai_chance = {
			base = 85
		}
		name = france.21.b
		add_timed_idea = {
			idea = FRA_matignon_agreements
			days = 365
		}
		add_popularity = {
			ideology = communism
			popularity = 0.07
		}	
		swap_ideas = {
			remove_idea = capitalist_economy
			add_idea = mixed_economy
		}
	}
}
# Revoke Worker rights
country_event = {
	id = france.22
	title = france.22.t
	desc = france.22.d
	picture = GFX_report_event_airplane_factory
	
	trigger = {
		NOT = { has_government = communism }
		has_idea = FRA_matignon_agreements
		date > 1936.7.1
	}

	fire_only_once = yes

	mean_time_to_happen = {	days = 90	}
	option = {
		ai_chance = {
			factor = 2
		}
		add_stability = 0.05
		name = france.22.a
	}
	option = {
		name = france.22.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				communism > 0.4
			}
		}
		remove_ideas =  FRA_matignon_agreements
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}	
}
# Strikes are over
country_event = {
	id = france.23
	title = france.23.t
	desc = france.23.d
	picture = GFX_report_event_airplane_factory


	trigger = {
		NOT = { has_idea = FRA_factory_strikes }
		has_country_flag = france.21.a_chosen
	}

	fire_only_once = yes
	
	mean_time_to_happen = {	days = 2	}

	option = {
		name = france.23.a
	}
}

# French ban on communism
#country_event = {
#	id = france.24
#	title = france.24.t
#	desc = france.24.d
#	picture = GFX_report_event_molotov_ribentrop_handshake
#
#
#	trigger = {
#		tag = FRA
#		SOV = { has_government = communism }
#		has_government = democratic
#		communism < 0.5
#		has_global_flag = sov_yes_pact
#	}
#
#	fire_only_once = yes
#	
#	mean_time_to_happen = {	days = 2	}
#
#	option = {
#		ai_chance = {	factor = 10 }
#		add_political_power = -20
#		name = france.24.a
#		add_popularity = {
#			ideology = communism
#			popularity = -0.3
#		}
#		add_ideas = FRA_communism_banned
#
#		add_opinion_modifier = {
#			target = SOV
#			modifier = FRA_ban_communism
#		}
#		
#		every_other_country = {
#			limit = { 
#				has_government = communism
#			}
#			add_opinion_modifier = {
#				target = FRA
#				modifier = FRA_ban_communism
#			}
#		}
#		hidden_effect = {
#			news_event = { id = news.161 hours = 6 }
#		}
#
#	}
#	option = {
#		ai_chance = {	factor = 0 }
#		name = france.24.b
#	}
#}

# British abandon yugoslavia
country_event = {
	id = france.25
	title = france.25.t
	desc = france.25.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes	
	option = { # Follow Britain's lead
		name = france.25.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = YUG
			}
		}
		if = {
			limit = { 
				ITA = {
					OR = {
						NOT = { has_completed_focus = ITA_yugoslavia_friend }						
						is_in_faction_with = GER
						exists = no
					}
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
				country_event = { id = yugoslavia.5 hours = 6 }
			}			
		}
		if = {
			limit = { 
				ITA = {
					has_completed_focus = ITA_yugoslavia_friend
					NOT = { is_in_faction_with = GER }
					NOT = { has_war_with = YUG }
				}
			}
			ITA = { country_event = { id = italy.12 } }
		}
	}
	option = { # Support the Yugoslavs alone
		name = france.25.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		add_political_power = -200
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = { 
			country_event = { id = yugoslavia.4 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.97 hours = 6 } #Generate wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
		if = {
			limit = { is_in_faction_with = ENG }
			ENG = { 
				country_event = { id = britain.15 hours = 6 }
				remove_from_faction = FRA
			}
		}
		if = {
			limit = { is_in_faction_with = GER }
			GER = { 
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = GER }
			}
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					is_faction_leader = no
					is_in_faction_with = ENG
					is_in_faction_with = GER
				}
			}
			create_faction = "french_alliance"
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_little_entente } }
			add_stability = 0.05
		}
	}
}

# British support yugoslavia
country_event = {
	id = france.26
	title = france.26.t
	desc = france.26.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes

	option = {
		name = france.26.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				NOT = { is_in_faction_with = ENG }
			}
			remove_from_faction = FRA
		}
		if = {
			limit = { NOT = { is_in_faction_with = ENG } }
			ENG = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = { 
			country_event = { id = yugoslavia.3 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.93 hours = 6 } #Generate wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}		
	}

	#Abandon
	option = {
		name = france.26.b
		trigger = { NOT = { is_in_faction_with = ENG } }
		ai_chance = { factor = 10 }
		set_global_flag = FRA_abandoned_yugoslavia
		YUG = {
			country_event = { id = yugoslavia.3 hours = 6 }
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
	}	
}

# Vichy France: Germany is handing over some of our land
country_event = {
	id = france.27
	title = france.27.t
	desc = { 
		text = france.27.d_1_state 
		trigger = {
			OR = {
				NOT = { has_global_flag = ITA_claims_on_france_735 }
				has_global_flag = ITA_claims_on_france_1
			}
			OR = {
				has_global_flag = ITA_claims_on_france_735
				NOT = { has_global_flag = ITA_claims_on_france_1 }
			}
		} 
	}
	desc = { 
		text = france.27.d_both
		trigger = { 
			has_global_flag = ITA_claims_on_france_735 
			has_global_flag = ITA_claims_on_france_1
		} 
	}
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.27.a
		
		effect_tooltip = {
			if = {
				limit = { has_global_flag = ITA_claims_on_france_735 }
				ITA = { transfer_state = 735 }
			}
			if = {
				limit = { has_global_flag = ITA_claims_on_france_798 }
				ITA = { transfer_state = 798 }
			}
			if = {
				limit = { has_global_flag = ITA_claims_on_france_1 }
				ITA = { transfer_state = 1 }
			}
		}


	}

}

# France - Syria defects to us
country_event = {
	id = france.28
	title = france.28.t
	desc = france.28.d
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.28.a
	}

}

# France - Britain accepts Ally request
country_event = {
	id = france.29
	title = france.29.t
	desc = france.29.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only	= yes

	option = {
		name = france.29.a
	}
}

# France - Britain denies Ally request
country_event = {
	id = france.30
	title = france.30.t
	desc = france.30.d
	picture = GFX_report_event_chamberlain

	is_triggered_only	= yes

	option = {
		name = france.30.a
		leave_faction = yes
	}
}

# Édouard Daladier Resigns
country_event = {
    id = france.31
    title = france.31.t
    desc = france.31.d
    picture = GFX_report_event_german_parade_paris
 
    fire_only_once = yes
 
    trigger = {
        original_tag = FRA
        has_government = democratic
        has_global_flag = fall_of_france
        NOT = { has_country_flag = france_de_gaulle }
    } 

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = france.31.a
        retire_country_leader = yes
        create_country_leader = {
        	name = "Paul Reynaud"
        	desc = "POLITICS_PAUL_REYNAUD_DESC"
        	picture = "Portrait_France_Paul_Reynaud.dds"
        	expire = "1965.1.1"
        	ideology = liberalism
        	traits = {
        	} 
        }
        set_country_flag = daladier_resigned
      }
}

# Hidden event to add AI values for nationalist spain if France is going fascist
country_event = {
    id = france.32
    hidden = yes
 
    fire_only_once = yes

    is_triggered_only = yes

    immediate = {
    	random_other_country = {
			limit = {
				original_tag = SPR
				has_government = fascism
			}
			FRA = {
				add_ai_strategy = {
					type = befriend
					id = "PREV"
					value = 200
				}
			}
		}
    }

    option = {
        name = france.32.a
     }
}

# Britain is at peace after annexing France in the Franco-British Union
# AI will tend to release France if historic mode is on or they are democratic

country_event = {
	id = france.33
	title = france.33.title
	desc = france.33.desc
	
	picture = GFX_report_event_generic_peaceful_annexation
	
	fire_only_once = yes
	
	trigger = {
		tag = ENG
		has_war = no
		is_subject = no
		has_global_flag = flag_franco_british_union
		any_owned_state = {
			is_core_of = FRA
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}

	option = { # Release
		name = france.33.a
		
		if = {
			limit = {
				has_cosmetic_tag = FRA_UK
			}
			drop_cosmetic_tag = yes
		}
		
		if = {
			limit = {
				NOT = { country_exists = FRA }
			}
			if = {
				limit = {
					has_government = democratic
				}
				FRA = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
						
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				FRA = {
					set_politics = {
						ruling_party = fascism
						elections_allowed = no
						
					}
				
					set_popularities = {
						democratic = 20
						fascism = 60
						communism = 20
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				FRA = {
					set_politics = {
						ruling_party = communism
						elections_allowed = no
						
					}
					set_popularities = {
						democratic = 20
						fascism = 20
						communism = 60
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				FRA = {
					set_politics = {
						ruling_party = neutrality
						elections_allowed = no
						
					}
					set_popularities = {
						democratic = 15
						neutrality = 55
						fascism = 15
						communism = 15
					}
				}
			}
			release = FRA
			
			set_autonomy = { target = FRA autonomy_state = autonomy_free }
		}
		
		every_state = {
			limit = {
				is_core_of = ENG
				is_core_of = FRA
			}
			remove_core_of = ENG
		}
		
		hidden_effect = { # This looks odd in the tooltip
			every_other_country = {
				limit = {
					is_subject_of = ENG
				}
				every_owned_state = {
					limit = {
						is_core_of = FRA
					}
					FRA = {
						transfer_state = PREV
					}
				}
			}
		}
		
		if = {
			limit = {
				is_faction_leader = yes
				FRA = {
					is_subject = no
					is_in_faction = no
				}
			}
			add_to_faction = FRA
		}
		
		every_unit_leader = {
			limit = {
				has_unit_leader_flag = {
					flag = flag_former_french_general
				}
			}
			set_nationality = FRA
		}
		
		hidden_effect =  {
			news_event = { id = france.34 days = 1 }
		}
		
		ai_chance = {
			factor = 60
			
			modifier = {
				factor = 2
				has_government = democratic
			}
		}
	}
	
	option = { # Don't release
		name = france.33.b
		
		add_war_support = -0.1
		add_stability = -0.2
		
		every_state = {
			limit = {
				is_core_of = ENG
				is_core_of = FRA
			}
			remove_core_of = ENG
		}
		
		every_unit_leader = {
			limit = {
				has_unit_leader_flag = {
					flag = flag_former_french_general
				}
			}
			set_nationality = FRA
		}
		
		ai_chance = {
			factor = 40
			
			modifier = {
				factor = 0.5
				has_stability < 0.5
			}
			modifier = {
				factor = 0.5
				has_war_support < 0.5
			}
			modifier = {
				factor = 2
				has_government = fascism
			}
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
	}
}

# News event for the release of France

news_event = {
	id = france.34
	title = france.34.title
	desc = france.34.desc
	
	picture = GFX_news_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = france.34.a
		trigger = {
			OR = {
				tag = ENG
				tag = FRA
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
		}
	}
	
	option = {
		name = france.34.b
		trigger = {
			NOT = {
				OR = {
					tag = ENG
					tag = FRA
					is_in_faction_with = ENG
					is_subject_of = ENG
				}
			}
		}
	}
}


## HIP ###

country_event = {
	id = france.235
	title = france.235.t 
	desc = france.235.d 
	
	picture = GFX_report_event_german_politician_speech
	is_triggered_only = yes
	
	option = { # Abandon the belgian
		name = france.235.a
		ai_chance = { 
			factor = 90 
			modifier = {
				factor = 0.3
				has_government = communism
				BEL = { has_government = communism }
			}
		}
		trigger = { 
			NOT = { has_war_with = FRA } 
			is_subject = no # can't do anything if puppet
		}
		BEL = {
			add_opinion_modifier = { target = ENG modifier = western_betrayal }
		}
		if = {
			limit = {
				BEL = { is_guaranteed_by = ENG }
			}
			ENG = {
				diplomatic_relation = {
   					country = BEL
   					relation = guarantee
   					active = no
  				}
  				add_ai_strategy = {
					type = ignore
					id = "BEL"
					value = 100
				}
			}
		}
		
		FRA = {
			country_event = { id = france.236 }
		}
	}
	option = { # Support the Belgian
		name = france.235.b	
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction_with = FRA
			}
				
			modifier = {
				factor = 3
				has_government = communism
				BEL = { has_government = communism }
			}
		}
		if = {
			limit = {
				is_in_faction_with = FRA
				is_faction_leader = yes
			}
			remove_from_faction = FRA
		}
		if = {
			limit = {
				is_in_faction_with = GER
				is_faction_leader = no
			}
			GER = { remove_from_faction = ENG }
		}
		add_political_power = -200
		add_opinion_modifier = { target = FRA modifier = condemn_aggression }
		FRA = {
			create_wargoal = {
				type = take_state_focus
				target = BEL
				generator = { 34 }
			}
		}
		
		BEL = {
			add_ai_strategy = {
				type = alliance
				id = "ENG"
				value = 200
			}
		}

		BEL = {
			add_opinion_modifier = { target = ENG modifier = offered_support }
		}
	}

}

country_event = {
	id = france.236
	title = france.236.t 
	desc = france.236.d 
	
	picture = GFX_report_event_german_politician_speech
	is_triggered_only = yes
	
	option = {
		name = france.236.a
		GER = {
			transfer_state = 796
			transfer_state = 8
		}
		FRA = {
			transfer_state = 295
			transfer_state = 538
			transfer_state = 718 # Congo
			transfer_state = 768
			transfer_state = 769
			
			transfer_state = 34
			transfer_state = 797 # Wallonia
			add_state_core = 34
			add_state_core = 797
			
			puppet = BEL
		}
	}
}

country_event = {
	id = france.237
	title = france.237.t 
	desc = france.237.d 
	
	picture = GFX_report_event_german_politician_speech
	is_triggered_only = yes
	
	option = {
		name = france.237.a #accept
		ai_chance = {
			base = 30		
			modifier = {
				add = -25
				FRA = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				FRA = { has_army_size = { size > 39 } }
			}
			modifier = {
				add = -25
				GER = { has_army_size = { size < 40 } }
			}
			modifier = {
				add = 100
				GER = { has_army_size = { size > 39 } }
			}	
		}
		FRA = {country_event = { id = france.238 days = 1}}
	}
	
	option = {
		name = france.237.b #refuse
		ai_chance = {
			base = 10
			modifier = {
				GER = { has_army_size = { size > 39 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				GER = { has_army_size = { size < 30 } }
			}
			modifier = {
				FRA = { has_army_size = { size > 39 } }
				factor = 0.5
			}
			modifier = {
				add = 20
				FRA = { has_army_size = { size < 30 } }
			}
		}
		FRA = {country_event = { id = france.239 days = 1}}
	}
	
}

country_event = {
	id = france.238
	title = france.238.t 
	desc = france.238.d 
	
	picture = GFX_report_event_german_politician_speech
	is_triggered_only = yes
	
	option = {
		name = france.238.a 
		
		FRA = { transfer_state = 3}
		FRA = {
			add_state_core = 3
		}
		GER = { transfer_state = 151}
		GER = {
			add_state_core = 151
		}
		IF = {
			limit = {
				ITA = {
					is_in_faction_with = FRA
				}
			}
			ITA = {transfer_state = 800}
			ITA = {
				add_state_core = 800
			}
			else = {
				GER = { transfer_state = 800 }
			}
		}
	}
}

country_event = {
	id = france.239
	title = france.239.t 
	desc = france.239.d 
	
	picture = GFX_report_event_german_politician_speech
	is_triggered_only = yes
	
	option = {
		name = france.239.a 
		FRA = {create_wargoal = { type = annex_everything target = SWI }}
	}
	
}

country_event = {
	id = france.240
	title = france.240.t
	desc = france.240.d 
	
	picture = GFX_report_event_generic_peaceful_annexation
	is_triggered_only = yes
	
	option = {
		name = france.240.a
		FRA = {
			add_popularity = {
				ideology = neutrality
				popularity = 0.45
			}
			add_stability = 0.15
			add_war_support = 0.15
		}
	}
}

country_event = {
	id = france.250
	title = france.250.t 
	desc = france.250.d 
	
	picture = GFX_news_event_degaulle_churchill
	is_triggered_only = yes 
	
	option = { #little
		name = france.250.a
		ai_chance = {
			factor = 33
		}
		ENG = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -500
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -100
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -200
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -200
				producer = ENG
			}
		}
		FRA = {country_event = france.251 }
	}
	
	option = { # medium
		name = france.250.b
		
		ai_chance = {
			factor = 33
		}
		ENG = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -200
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -400
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -400
				producer = ENG
			}
			add_equipment_to_stockpile = {
				type = light_tank_equipment
				amount = -250
				producer = ENG
			}
		}
		FRA = {country_event = france.252 }
	}
	
	option = { # a lot
		name = france.250.c
		ai_chance = {
			factor = 33
		}
		ENG = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = -400
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -800
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -800
				producer = ENG
			}
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = -250
				producer = ENG
			}
		}
		FRA = {country_event = france.253 }
	}
}

country_event = {
	id = france.251
	title = france.251.t 
	desc = france.251.d 
	
	picture = GFX_news_event_degaulle_churchill
	is_triggered_only = yes 
	
	option = {
		name = france.251.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 500
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 100
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 200
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 200
				producer = ENG
			}
		}
	}
}

country_event = {
	id = france.252
	title = france.252.t 
	desc = france.252.d 
	
	picture = GFX_news_event_degaulle_churchill
	is_triggered_only = yes 
	
	option = {
		name = france.252.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 200
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 400
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 400
				producer = ENG
			}
			add_equipment_to_stockpile = {
				type = light_tank_equipment
				amount = 250
				producer = ENG
			}
		}
	}
}

country_event = {
	id = france.253
	title = france.253.t 
	desc = france.253.d 
	
	picture = GFX_news_event_degaulle_churchill
	is_triggered_only = yes 
	
	option = {
		name = france.253.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2000
				producer = ENG
			}
				
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 400
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 800
				producer = ENG
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 800
				producer = ENG
			}
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = 250
				producer = ENG
			}
		}
	}
}

country_event = {
	id = france.260
	title = france.260.t 
	desc = france.260.d 
	
	picture = GFX_report_event_degaulle_inspect_troops
	is_triggered_only = yes 
	
	option = { #little
		name = france.260.a
		ai_chance = {
			factor = 33
		}
		USA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = -250
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -400
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -500
				producer = USA
			}
		}
		FRA = {country_event = france.261 }
	}
	
	option = { # medium
		name = france.260.b
		
		ai_chance = {
			factor = 33
		}
		USA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = -500
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -1000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -400
				producer = USA
			}
			add_equipment_to_stockpile = {
				type = mechanized_equipment
				amount = -500
				producer = USA
			}
		}
		FRA = {country_event = france.262 }
	}
	
	option = { # a lot
		name = france.260.c
		ai_chance = {
			factor = 33
		}
		USA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -4000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = -1000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = -2000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = -1000
				producer = USA
			}
			add_equipment_to_stockpile = {
				type = mechanized_equipment
				amount = -1000
				producer = USA
			}
		}
		FRA = {country_event = france.263 }
	}
}

country_event = {
	id = france.261
	title = france.261.t 
	desc = france.261.d 
	
	picture = GFX_report_event_degaulle_inspect_troops
	is_triggered_only = yes 
	
	option = {
		name = france.261.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = 250
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 400
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 500
				producer = USA
			}
		}
	}
}

country_event = {
	id = france.262
	title = france.262.t 
	desc = france.262.d 
	
	picture = GFX_report_event_degaulle_inspect_troops
	is_triggered_only = yes 
	
	option = {
		name = france.262.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 2000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = 500
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 1000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 400
				producer = USA
			}
			add_equipment_to_stockpile = {
				type = mechanized_equipment
				amount = 500
				producer = USA
			}
		}
	}
}

country_event = {
	id = france.263
	title = france.263.t 
	desc = france.263.d 
	
	picture = GFX_report_event_degaulle_inspect_troops
	is_triggered_only = yes 
	
	option = {
		name = france.263.a
		FRA = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 4000
				producer = USA
			}
				
			add_equipment_to_stockpile = {
				type = medium_tank_equipment
				amount = 1000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 2000
				producer = USA
			}
			
			add_equipment_to_stockpile = {
				type = artillery_equipment
				amount = 1000
				producer = USA
			}
			add_equipment_to_stockpile = {
				type = mechanized_equipment
				amount = 1000
				producer = USA
			}
		}
	}
}

country_event = {
	id = france.264
	title = france.264.t 
	desc = france.264.d
	picture = GFX_report_event_dead_soldiers
	fire_only_once = yes
	is_triggered_only = yes #Fall Gelb
	
	option = {
		name = france.264.a 
		FRA = {
			add_timed_idea = {
				idea = FRA_disorganized_army
				days = 14
			}
		}
		custom_effect_tooltip = france.264.a_tt
	}
}